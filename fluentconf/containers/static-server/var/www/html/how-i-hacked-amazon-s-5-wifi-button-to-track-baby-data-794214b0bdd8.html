<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>How I Hacked Amazon’s $5 WiFi Button to track Baby Data — Medium</title><link rel="canonical" href="https://medium.com/@edwardbenson/how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8"><meta name="title" content="How I Hacked Amazon’s $5 WiFi Button to track Baby Data"><meta name="referrer" content="always"><meta name="description" content="New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because y…"><meta property="og:site_name" content="Medium"><meta property="og:title" content="How I Hacked Amazon’s $5 WiFi Button to track Baby Data"><meta property="og:url" content="https://medium.com/@edwardbenson/how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8"><meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*uzhO9OTxp6L1YguIJiNFPQ.jpeg"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because y…"><meta name="twitter:site" content="@Medium"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/800/1*uzhO9OTxp6L1YguIJiNFPQ.jpeg"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@edwardbenson"><meta name="author" content="Ted Benson"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@edwardbenson"><meta property="fb:smart_publish:robots" content="noauto"><meta property="article:published_time" content="2015-08-10T05:44:38.178Z"><meta name="twitter:creator" content="@edwardbenson"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium:/p/794214b0bdd8"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium:/p/794214b0bdd8"><meta property="al:android:url" content="medium://p/794214b0bdd8"><meta property="al:web:url" content="https://medium.com/@edwardbenson/how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/794214b0bdd8" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.VzyPz4jos5FyyiYfuOx6fQ.css"><!--.--><!--.--><!--[if lt IE 9]><!--.--><![endif]--><link rel="shortcut icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-ipad-retina.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-iphone-retina.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-ipad.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"></head><body itemscope itemtype="http://schema.org/Article" class=" template-flex-article is-noJs"><!--.--><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><nav class="metabar u-clearfix js-metabar metabar--top metabar--postArticle"><div class="metabar-block metabar-left u-floatLeft"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><svg viewBox="0 0 45 45" width="45" height="45" class="svgIcon svgIcon--logoNew svgIcon-size--45px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-logoNew-45px-p0"></use><use class="svgIcon-use svgIcon-use--part1" xlink:href="#svg-logoNew-45px-p1"></use><use class="svgIcon-use svgIcon-use--part2" xlink:href="#svg-logoNew-45px-p2"></use><use class="svgIcon-use svgIcon-use--part3" xlink:href="#svg-logoNew-45px-p3"></use></svg><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block metabar-right u-floatRight"><div class="buttonSet"></div><div class="inputGroup u-xs-hide metabar-predictiveSearch"><button class="button button--chromeless button--inline button--withIcon is-inSiteNavBar button--withSvgIcon"  title="Click to start typing a search term" aria-label="Click to start typing a search term" data-action="focus-search-input"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><input class="js-predictiveSearchInput textInput textInput--rounded textInput--dark" type="search" placeholder="Search Medium"></div><div class="buttonSet"><button class="button button--circle button--withChrome button--withIcon is-inSiteNavBar u-showOnMobile button--withSvgIcon"  title="Search" aria-label="Search" data-action="open-search"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><a class="button button--primary button--withChrome"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%3A443%2F%40edwardbenson%2Fhow-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8"data-action="sign-in-prompt"data-redirect="https://medium.com:443/@edwardbenson/how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8" data-action-source="nav_signup">Sign in / Sign up</a></div></div></nav><div class="postActionsBar js-postActionsBar"><div class="postActionsBar-container container u-size740"><div class="postActionsBar-content row js-postActionsBarContent"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="794214b0bdd8" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/794214b0bdd8"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="794214b0bdd8">544</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">59</button></div></div><div class="u-floatRight buttonSet"><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="794214b0bdd8"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="794214b0bdd8"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button></div><div class="buttonSet-separator"></div><div class="buttonSet-inner"><a class="link avatar avatar--inline"  href="https://medium.com/@edwardbenson" data-action="show-user-card" data-action-type="hover" data-user-id="5c2520a2b1c1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/24/24/0*U95yxxLZU0nj6L-6.jpeg" class="avatar-image avatar-image--micro" alt="Go to the profile of Ted Benson"><span class="avatar-text">Ted Benson</span></a><span class="u-xs-hide"><span class="middotDivider"></span><span class="followState js-followState" data-user-id="5c2520a2b1c1"><button class="button button--chromeless u-noUserSelect button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_actions_bar"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--chromeless u-noUserSelect button--follow js-followButton"  title="Follow to get new stories and recommendations from this author" aria-label="Follow to get new stories and recommendations from this author"data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/5c2520a2b1c1/794214b0bdd8" data-action-source="post_actions_bar_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></span></div></div></div></div></div></div><article class="u-sizeViewHeightMin100 postArticle postArticle--full" lang="en"><header class="container is-underMetabar u-size740"><div class="postMetaHeader row u-xs-top10 u-xs-bottom10"><div class="col u-xs-size5of12"><div class="u-floatLeft"><div class="postMetaInline-avatar"><a class="link avatar"  href="https://medium.com/@edwardbenson" data-action="show-user-card" data-action-type="hover" data-user-id="5c2520a2b1c1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/36/36/0*U95yxxLZU0nj6L-6.jpeg" class="avatar-image u-xs-size32x32 u-sm-size36x36" alt="Go to the profile of Ted Benson"></a></div><div class="postMetaInline-feedSummary"><a class="link link link--darken link--accent"  href="https://medium.com/@edwardbenson" data-action="show-user-card" data-action-type="hover" data-user-id="5c2520a2b1c1" dir="auto">Ted Benson</a><span class="postMetaInline postMetaInline--supplemental">Aug 10<span class="middotDivider"></span><span class="readingTime">6 min read</span></span></div></div></div><div class="col u-xs-size7of12"><div class="u-floatRight"><div class="postMetaHeader-socialProof"></div></div></div></div></header><main role="main" class="postArticle-content js-postField js-notesSource"><section name="d196" class=" section--body section--first"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h2 name="828e" id="828e" class="graf--h2 graf--first">How I Hacked Amazon’s $5 WiFi Button to track Baby Data</h2><figure name="e617" id="e617" class="graf--figure graf--layoutInsetLeft graf-after--h2"><div class="aspectRatioPlaceholder is-locked" style="max-width: 350px; max-height: 590px;"><div class="aspect-ratio-fill" style="padding-bottom: 168.6%;"></div><img class="graf-image" data-image-id="1*uzhO9OTxp6L1YguIJiNFPQ.jpeg" data-width="1906" data-height="3213" data-action="zoom" data-action-value="1*uzhO9OTxp6L1YguIJiNFPQ.jpeg" src="https://cdn-images-1.medium.com/max/400/1*uzhO9OTxp6L1YguIJiNFPQ.jpeg"></div><figcaption class="imageCaption">My son Everest, the project’s quality assurance engineer. He subjected the button to a rigorous drool test.</figcaption></figure><p name="522b" id="522b" class="graf--p graf-after--figure">New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because your baby can’t talk to you. Recording data helps you find patterns — even obvious ones — that you won’t notice on your own because of sleep deprivation. How many times did the little guy wake up last night? Seems like an easy question, but it’s not.</p><p name="3832" id="3832" class="graf--p graf-after--p">My wife and I tried a few baby-tracker apps, but they tend to be single-purpose, while your baby’s needs keep changing. And using your smart phone at night disrupts sleep.<strong class="markup--strong markup--p-strong"> I want a simple button I can stick to the wall and push to record poops today but wake-ups tomorrow. </strong>Lucky for me, Amazon just started shipping their new <a href="http://www.amazon.com/b/?node=10667898011&amp;lo=digital-text" data-href="http://www.amazon.com/b/?node=10667898011&amp;lo=digital-text" class="markup--anchor markup--p-anchor" rel="nofollow">Dash Buttons</a>, which you can transform into exactly that with just a few minutes.</p><p name="99ff" id="99ff" class="graf--p graf-after--p">Dash Buttons are small, $5 plastic buttons with a battery and a WiFi connection inside. Amazon wants you to stick them to the insides of your cabinet doors and use them to re-order products like diapers or toilet paper. Push the button, get a new pack of diapers in the mail in two days.</p><p name="939f" id="939f" class="graf--p graf-after--p">I’m going to show you how to hijack and use these buttons for just about anything you want. Here’s is a short video preview of the results. Read on to see how you can build this yourself in just a few minutes.</p><figure name="6e56" id="6e56" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe data-width="854" data-height="480" width="700" height="393" src="/media/c09e3aefa0e604fcef439c59879cbf83?maxWidth=700" data-media-id="c09e3aefa0e604fcef439c59879cbf83" frameborder="0"></iframe></div><figcaption class="imageCaption">Video of the final result. You can wire up as many dash buttons as you like to record things around your house. The delay between button press and spreadsheet change is due to the Dash hardware’s boot-up process.</figcaption></figure><h3 name="58f8" id="58f8" class="graf--h3 graf-after--figure">Here’s the trick: listen for the button to wake up and connect to the network.</h3><p name="f696" id="f696" class="graf--p graf-after--h3">OK, so our goal is to detect when one of these Dash buttons is pushed and then do something other than order more diapers on Amazon. The impressive hack would be to rip open the button and reprogram it. But I’m a dad: I don’t have time for that shi — <em class="markup--em markup--p-em">err..</em> doody. So we’ll take the lazy route: we’ll just write a simple program that sniffs our wifi network for evidence that the button was pushed and then records a data point when it hears some.</p><p name="b428" id="b428" class="graf--p graf-after--p">It turns out Amazon gave us a very easy way to do this because they were so concerned with power saving. Dash buttons are turned off most of the time to preserve the battery inside. They only turn on when you push them. <em class="markup--em markup--p-em">And that means they have to re-connect to your Wifi network every time they are pushed. </em>That’s easy to detect.</p><p name="cb12" id="cb12" class="graf--p graf-after--p">Internet devices don’t just connect to a Wifi network and start talking to Amazon: they introduce themselves to the local network first<em class="markup--em markup--p-em">. </em>This introduction is done with something called an <a href="https://en.wikipedia.org/wiki/Address_Resolution_Protocol#ARP_probe" data-href="https://en.wikipedia.org/wiki/Address_Resolution_Protocol#ARP_probe" class="markup--anchor markup--p-anchor" rel="nofollow">ARP Probe</a>, and it’s essentially a safety check to make sure that the <a href="https://en.wikipedia.org/wiki/MAC_address" data-href="https://en.wikipedia.org/wiki/MAC_address" class="markup--anchor markup--p-anchor" rel="nofollow">MAC address</a> the device is going to use as an identifier isn’t already being used by someone else.</p><figure name="eded" id="eded" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 284px;"><div class="aspect-ratio-fill" style="padding-bottom: 40.6%;"></div><img class="graf-image" data-image-id="1*pvg4kltN9-Qg40CZTDkQ3A.png" data-width="6394" data-height="2593" data-action="zoom" data-action-value="1*pvg4kltN9-Qg40CZTDkQ3A.png" src="https://cdn-images-1.medium.com/max/800/1*pvg4kltN9-Qg40CZTDkQ3A.png"></div><figcaption class="imageCaption">Every time you push a Dash button, it reconnects to the network, causing a predictable transmission called an ARP Probe we can detect and act upon.</figcaption></figure><p name="9020" id="9020" class="graf--p graf-after--figure">That’s great news for us: every time a Dash button is pushed, it powers up its radio and promptly transmits the message, “Hi! My name is [MAC Address]!”</p><p name="6675" id="6675" class="graf--p graf-after--p">So, conceptually, problem solved. We just have to:</p><ol class="postList"><li name="ffd5" id="ffd5" class="graf--li graf-after--p">Prevent the button from actually ordering anything</li><li name="fbe7" id="fbe7" class="graf--li graf-after--li">Listen for Dash Button ARP probes, and</li><li name="c625" id="c625" class="graf--li graf-after--li">Translate those probes into spreadsheet updates</li></ol><h3 name="5c71" id="5c71" class="graf--h3 graf-after--li">Step 1: Prevent the Dash Button from actually ordering anything (Sorry Amazon)</h3><p name="f6ec" id="f6ec" class="graf--p graf-after--h3">The first thing you need to do is configure your buttons to send messages when you push them but not actually order anything. When you get a Dash button, Amazon gives you a list of setup instructions to get going. Just follow this list of instructions, but don’t complete the final step — <em class="markup--em markup--p-em">don’t select the particular product you want ordered.</em></p><p name="6b88" id="6b88" class="graf--p graf-after--p">The last step for the Huggies button, for example, is to select which of several Huggies products you want. Just don’t answer this question and you won’t have to worry about actually buying anything.</p><h3 name="6fbf" id="6fbf" class="graf--h3 graf-after--p">Step 2: Detect when a Dash Button is pushed by sniffing for ARP Probes</h3><p name="f5f8" id="f5f8" class="graf--p graf-after--h3">OK. So now your button is sending messages to the network whenever it’s pushed. The next step is to sniff the WiFi network for these messages. Remember, we’re looking for something called an ARP Probe. To do that, we’re going to write a little Python program using a library called <a href="http://www.secdev.org/projects/scapy/" data-href="http://www.secdev.org/projects/scapy/" class="markup--anchor markup--p-anchor" rel="nofollow">Scapy</a>. Just copy and paste the following code:</p><figure name="c85d" id="c85d" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="/media/330bf5cd58c89e7870ca2666aee49513?maxWidth=700" data-media-id="330bf5cd58c89e7870ca2666aee49513" frameborder="0"></iframe></div></figure><p name="f330" id="f330" class="graf--p graf-after--figure">With that program running — here’s the low tech part — pick up a button and press it. You’ll see a message appear after a few seconds (the buttons take a while to power on!). That’s the MAC address that uniquely identifies that button.</p><figure name="119b" id="119b" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 264px;"><div class="aspect-ratio-fill" style="padding-bottom: 37.7%;"></div><img class="graf-image" data-image-id="1*7dj8o7kRxr8TXaP-pQzh8g.png" data-width="7371" data-height="2782" data-action="zoom" data-action-value="1*7dj8o7kRxr8TXaP-pQzh8g.png" src="https://cdn-images-1.medium.com/max/800/1*7dj8o7kRxr8TXaP-pQzh8g.png"></div><figcaption class="imageCaption">Every time you push the Dash button, it wakes up and issues an ARP request. By watching sniffer output of these requests in real time, you can learn each button’s MAC address.</figcaption></figure><p name="ebd7" id="ebd7" class="graf--p graf-after--figure">Now that we know the MAC addresses, we’re going to hard-code them into our python program (remember, we’re in lazy dad mode here..). The code and screen shots below are for my buttons. Your addresses will look different.</p><p name="f200" id="f200" class="graf--p graf-after--p">Here’s the modified code:</p><figure name="8144" id="8144" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="/media/2bc2f529b05fcaa2a494a318a02aef2d?maxWidth=700" data-media-id="2bc2f529b05fcaa2a494a318a02aef2d" frameborder="0"></iframe></div></figure><p name="b1a3" id="b1a3" class="graf--p graf-after--figure">And here’s the console output when we push the buttons while this program is running:</p><figure name="9ba0" id="9ba0" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 682px; max-height: 247px;"><div class="aspect-ratio-fill" style="padding-bottom: 36.199999999999996%;"></div><img class="graf-image" data-image-id="1*dy_60jSfVOSoiHWuIFC2KA.png" data-width="682" data-height="247" src="https://cdn-images-1.medium.com/max/800/1*dy_60jSfVOSoiHWuIFC2KA.png"></div><figcaption class="imageCaption">We’re nearly finished! Our code identifies each button push correctly. Now we just have to record a data point in response.</figcaption></figure><h3 name="506c" id="506c" class="graf--h3 graf-after--figure">Step 3: Record the button push data to a Google Spreadsheet</h3><p name="4c2d" id="4c2d" class="graf--p graf-after--h3">Now all we have to do is record data every time a button is pushed. To do that, I’ll use a <a href="http://www.cloudstitch.com/magic-form" data-href="http://www.cloudstitch.com/magic-form" class="markup--anchor markup--p-anchor" rel="nofollow"><strong class="markup--strong markup--p-strong">Magic Form</strong></a>, a tool my startup <a href="http://www.cloudstitch.com" data-href="http://www.cloudstitch.com" class="markup--anchor markup--p-anchor" rel="nofollow">Cloudstitch</a> launched last week that lets you send data from anywhere to a Google Sheet.</p><figure name="c063" id="c063" class="graf--figure graf--layoutInsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 275px; max-height: 212px;"><div class="aspect-ratio-fill" style="padding-bottom: 77.10000000000001%;"></div><img class="graf-image" data-image-id="1*oc5w7DsshfCtmCyClaACBw.png" data-width="275" data-height="212" src="https://cdn-images-1.medium.com/max/400/1*oc5w7DsshfCtmCyClaACBw.png"></div><figcaption class="imageCaption"><a href="http://www.cloudstitch.com/magic-form" data-href="http://www.cloudstitch.com/magic-form" class="markup--anchor markup--figure-anchor" rel="nofollow">Magic Forms</a> are great when you need a quick and easy way to save data to the cloud.</figcaption></figure><p name="44d4" id="44d4" class="graf--p graf-after--figure">Just visit Cloudstitch, create a Magic Form, and you’ll be given a URL that add rows to your spreadsheet when you post form data to it.</p><p name="3651" id="3651" class="graf--p graf-after--p">So all the pieces are in place now: before we had a bit of code that prints a message every time a Dash button is pushed. Now we just add a few more lines of code to also send data to our Magic Form. Rather than paste in the whole updated example again, I’ll just <a href="https://gist.github.com/eob/79f481c68cf4fbb110e7" data-href="https://gist.github.com/eob/79f481c68cf4fbb110e7" class="markup--anchor markup--p-anchor" rel="nofollow">link to the full version</a> and instead show you the part that records a Poopy Diaper entry in our Magic Form. Right after printing “Pushed Huggies” to the screen, I added this code, which sends two fields, a<strong class="markup--strong markup--p-strong"> </strong>Timestamp and the message “Poopy Diaper” to the form’s URL.</p><figure name="85f2" id="85f2" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="/media/8eaa1e09ffe86a66415720a8d4ecf485?maxWidth=700" data-media-id="8eaa1e09ffe86a66415720a8d4ecf485" frameborder="0"></iframe></div></figure><p name="506a" id="506a" class="graf--p graf-after--figure">That’s it! Run the program again, push the buttons, and you’ll see the rows added to your spreadsheet as you do!</p><figure name="d7f8" id="d7f8" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 693px; max-height: 252px;"><div class="aspect-ratio-fill" style="padding-bottom: 36.4%;"></div><img class="graf-image" data-image-id="1*xPfYuFlDeiBrScJgHnsK2A.png" data-width="693" data-height="252" src="https://cdn-images-1.medium.com/max/800/1*xPfYuFlDeiBrScJgHnsK2A.png"></div><figcaption class="imageCaption">I think it’s clear from the timestamps I need to go to bed.</figcaption></figure><h3 name="2669" id="2669" class="graf--h3 graf-after--figure">Conclusion: The Internet of Things is already here.</h3><p name="8f8a" id="8f8a" class="graf--p graf-after--h3">A lot of people made fun of Dash Buttons when Amazon <a href="http://www.usatoday.com/story/tech/2015/03/31/amazon-dash-ordering-button/70747342/" data-href="http://www.usatoday.com/story/tech/2015/03/31/amazon-dash-ordering-button/70747342/" class="markup--anchor markup--p-anchor" rel="nofollow">launched them on the day before April Fool’s Day</a>. But regardless of what you think about Dash as a consumer product, it’s an undeniably compelling prototype of what the Internet of Things is going to look like.</p><p name="529c" id="529c" class="graf--p graf-after--p">Using the instructions above, I bet you can wire up a Dash button like I did in under ten minutes. That’s pretty incredible when you consider the buttons were not supposed to be used this way. Actually — try it out and <a href="/cdn-cgi/l/email-protection#cbbfaeaf8ba8a7a4beafb8bfa2bfa8a3e5a2a4" data-href="mailto:ted@cloudstitch.io" class="markup--anchor markup--p-anchor">send me an email</a> with your time. I’ll curate the common hurdles and zany ideas or photos.</p><p name="842d" id="842d" class="graf--p graf-after--p graf--last">We’re working on a lot of zany projects like this at <a href="http://www.cloudstitch.com/" data-href="http://www.cloudstitch.com/" class="markup--anchor markup--p-anchor" rel="nofollow">Cloudstitch</a>, by the way. Useful, simple, self-contained projects built on top of the things in your life you’re already using, like spreadsheets and buttons. <strong class="markup--strong markup--p-strong">On that note, we might turn this Dash button hack into a 1-click project for you to use. If you’re interested in that, let us know by </strong><a href="http://www.cloudstitch.com/internet-of-things-hacker" data-href="http://www.cloudstitch.com/internet-of-things-hacker" class="markup--anchor markup--p-anchor" rel="nofollow"><strong class="markup--strong markup--p-strong">signing up for our “Internet of Things Hacker” mailing list</strong></a><strong class="markup--strong markup--p-strong">. We’ll use it to curate and announce fun projects like this.</strong></p></div></div></section><section name="26da" class=" section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="c6b7" id="c6b7" data-align="center" class="graf--p graf--first graf--last"><em class="markup--em markup--p-em">Thanks to @jeanqasaur and Robin Ricketts for commenting on a draft of this post.</em></p></div></div></section></main><footer class="postArticle-footer"><div class="postActionsFooter container u-size740"><div class="row"><div class="col u-xs-size12of12"></div></div><div class="row"><div class="col u-xs-size12of12 js-postTags"><div class="postTags"><div class="tags tags--postTags tags--borderless"><a class="link"  href="https://medium.com/tag/hacking?source=post" title="Go to Hacking" aria-label="Go to Hacking" data-action-source="post">Hacking</a><a class="link"  href="https://medium.com/tag/makers?source=post" title="Go to Makers" aria-label="Go to Makers" data-action-source="post">Makers</a><a class="link"  href="https://medium.com/tag/development?source=post" title="Go to Development" aria-label="Go to Development" data-action-source="post">Development</a></div></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="794214b0bdd8" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/794214b0bdd8"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="794214b0bdd8">544</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">59</button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="794214b0bdd8"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="794214b0bdd8"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon js-moreActionsButton button--withSvgIcon"  title="More actions" aria-label="More actions" data-action="more-actions"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--more svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-more-25px-p0"></use></svg></button></div></div></div></div><div class="container u-size740"><div class="row postFooter-info2"><div class="col u-xs-size12of12"><hr class="postFooter-infoDivider"></div></div><div class="row js-postFooterInfo"><div class="col u-xs-size12of12"><li class="card card-user"><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="5c2520a2b1c1"><button class="button button--small u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/5c2520a2b1c1" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="card-imageWrapper "><a class="link avatar"  href="https://medium.com/@edwardbenson?source=footer_card" title="Go to the profile of Ted Benson" aria-label="Go to the profile of Ted Benson" data-action-source="footer_card" data-user-id="5c2520a2b1c1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/60/60/0*U95yxxLZU0nj6L-6.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Ted Benson"></a></div><div class="card-content"><h3 class="card-name"><a class="link link--primary"  href="https://medium.com/@edwardbenson" property="cc:attributionName" title="Go to the profile of Ted Benson" aria-label="Go to the profile of Ted Benson" rel="author cc:attributionUrl" data-user-id="5c2520a2b1c1" dir="auto">Ted Benson</a></h3><p class="card-description">Startup Dad. Cofounder &amp; CTO of Cloudstitch. PhD from MIT CSAIL. Addicted to hot sauce.</p></div></li></div></div></div><div class="responsesWrapper supplementalPostContent js-responsesWrapper"></div><div class="post-footer supplementalPostContent js-readNext"></div></footer></article><div class="promoCardWrapper js-promoCardWrapper"><div class="promoCard"><button class="button button--chromeless button--close"  data-action="popup-dismiss">&times;</button><div class="promoCard-header">Don’t miss Ted Benson’s next story</div><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="5c2520a2b1c1"><button class="button u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="user_follow_popup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/5c2520a2b1c1" data-action-source="user_follow_popup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="avatar"><img src="https://cdn-images-1.medium.com/fit/c/40/40/0*U95yxxLZU0nj6L-6.jpeg" class="avatar-image avatar-image--smaller" alt="Ted Benson"><span class="avatar-text">Ted Benson</span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","bestOfFirstSlug":"may-2013","bestOfLatestSlug":"november-2015","buildLabel":"18659-b02cc8c","currentUser":{"userId":"lo_48c3aefd14e0","isVerified":"","subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"facebookKey":"542599432471018","facebookScope":["public_profile","email","user_friends"],"isAuthenticated":false,"isCurrentUserVerified":"","loadingPlaceholderImg":"https://cdn-static-1.medium.com/_/fp/img/media-loading-placeholder.b31hiO4ynbDLRrXWEFF4aQ.png","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.PMFYxE6gzVH0ZXzyorUr1A.js","notes":"https://cdn-static-1.medium.com/_/fp/js/main-notes.bundle.cyFDLAWmWiJgjmGRZxcrsg.js","posters":"https://cdn-static-1.medium.com/_/fp/js/main-posters.bundle.LweHXgFmA7TsxPWxZy9DVQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/js/main-common-async.bundle.Zlk_NvrG4CMof9DpNoJbBg.js","stats":"https://cdn-static-1.medium.com/_/fp/js/main-stats.bundle.pbXGQaRCi7v3Fb_x6YK8xw.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/js/main-misc-screens.bundle.MSG7F6g6u8wNKQTskHPHXQ.js"},"postColumnWidth":700,"previewConfig":{"weightThreshold":1,"weightEmptyParagraph":0,"weightIframeParagraph":0.8,"weightImageParagraph":0.51,"weightTextParagraph":0.08,"weightBq":0.003,"weightH":0.005,"weightP":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15,"experimentImagesInsetCenter":false,"previewConfigVariantA":{"experimentImagesInsetCenter":true},"previewConfigVariantB":{"weightThreshold":10,"detectTitle":false}},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1449071158828:a430ee4efc6e","useragent":{"browser":"wget","family":"","os":"","version":1.1,"supportsDesktopEdit":false,"supportsMobileEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isFacebook":false,"isWebView":false,"isFacebookWebView":false,"supportsSvgExternalResources":false,"supportsScrollableMetabar":false,"supportsProgressiveMedia":false,"isGoogle":false},"variants":{"allow_access":true,"allow_signup":true,"can_vote":true,"can_update_settings":true,"can_send_push_notifications":true,"can_export_data":true,"enable_notes":true,"allow_test_auth":"disallow","enable_email_login":true,"enable_email_registration":true,"enable_spam_detection":true,"enable_post_licensing":true,"filter_other_languages":true,"use_experimental_css":true,"can_resume_from_last_read_location":true,"can_report_bad_posts":true,"enable_embeds":true,"enable_recommend_notes":true,"enable_recommend_notes_composition":true,"use_full_width_images":true,"upload_multiple_files":true,"can_follow_users":true,"can_block_users":true,"enable_custom_push_notification_prompts_ios":true,"onboarding_connect_addtional_social_accounts_enabled_ios":true,"allow_request_account_deletion":true,"enable_bookmarks_list_ios":true,"see_featured_post_tab":true,"receive_rec_note_pushes":true,"receive_post_published_pushes":true,"receive_mention_pushes":true,"enable_account_conversion":true,"use_new_scheduled_delivery_flow":true,"feed_homepage":true,"enable_collection_subscription_fanout":true,"welcome_post_url":"https://medium.com/about/about-medium-9eac453da935","google_search":true,"signin_services":"twitter,facebook,google","signup_services":"twitter,facebook,google","mobile_app_promotion":"dialog","enable_bing_search":true,"enable_algolia_search":true,"show_tagged_posts_in_search":true,"enable_respond_to_web":true,"drafts_unauth":true,"friends_only_quotes":true,"enable_search_ios":true,"enable_connect_social_accounts_from_settings_ios":true,"enable_new_cover_flow_ios":true,"enable_rating_prompt":true,"enable_post_show_refactor":true,"enable_your_stories_more_actions":true,"enable_user_search_with_bing":true,"enable_drop_caps":true,"enable_session_cookie_encryption":true,"enable_follow_tags":true,"enable_tabbed_homepage_ios":true,"enable_editors_can_pull_stories":true,"enable_email_capture_flow_ios":true,"enable_send_pub_newsletters":true,"enable_receive_pub_newsletters":true,"enable_new_onboarding_flow_ios":true,"enable_follow_tags_from_post_list_ios":true,"enable_embedded_onboarding_education_and_login_ios":true,"enable_contextual_recommend_education_ios":true,"enable_tag_follow_onboarding":true,"your_top_stories_source":"similar-posts","follower_suggestion_source":"friends-of-friends","enable_query_by_in_response_to_post_id":true,"enable_gif_to_video_ios":true,"enable_international_typographic_quotes_through_icu_ios":true,"enable_service_worker":true,"android_rating_prompt_recommend_threshold":5,"number_of_top_stories":3,"number_of_in_stream_ts4u":3,"number_of_in_stream_global_top_stories":3,"source_of_in_stream_ts4u":"friends-rec-7d","enable_top_stories_in_stream":true,"enable_top_stories_in_stream_on_ios":true,"enable_top_stories_in_stream_on_android":true,"enable_post_recommend_threshold_in_stream":true,"enable_response_recommend_threshold_in_stream":true,"post_recommend_threshold":1,"response_recommend_threshold":2,"new_stream_reasons":true,"google_sign_in_backend":true,"google_sign_in_android":true,"enable_quote_feed_write":true,"enable_pile_on_activity":true,"enable_onboarding":true,"enable_rds_activity":true,"enable_rds_activity_read":true,"enable_activity_rollup":true,"activity_rollup_method":"all","enable_simple_open_in_app":true,"custom_miro_url":"https://cdn-images-1.medium.com","ios_custom_miro_url":"https://cdn-images-1.medium.com","enable_friends_recommends_plugin":true,"enable_write_stats_cache":true,"enable_populate_post_stats":true,"enable_most_recommended_response":true,"no_push_notification_for_responses":true,"receive_follow_pushes":true,"receive_recommend_pushes":true,"receive_response_pushes":true,"receive_highlight_pushes":true,"new_google_flow":true,"enable_small_first_page":true,"enable_response_email2":true,"fetch_with_relation_index":true,"enable_screen_placeholders":true,"user_popover_experiment":true,"enable_post_screen_placeholders":true,"enable_profile_screen_placeholders":true,"reengagement_notification_duration":3,"enable_infinite_scroll_placeholders":true,"enable_context_cards":true,"enable_progressive_media":true,"enable_oauth_api":true,"enable_oauth_token_self_issuance":true,"enable_oauth_app_creation":true,"list_of_lists_bucket":"default","enable_zoomable":true,"use_new_push_notification_logic":true,"enable_send_ios_pushes_using_channel_ids":true,"explore_tab_ios_posts_per_section_limit":4,"enable_quotes_in_one_stream":true,"enable_user_social_count_healing":true,"enable_social_counts_from_user_stat_total":true,"show_social_buttons_on_logged_out_post_footer":true,"enable_preview_footer_two":true,"show_sponsored_read_next":true,"track_with_social_id":true,"filter_responses_in_stream":true,"disable_inherit_tags_inline":true,"sponsored_read_next_cohort":"a"},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/img/default-avatar.png":"https://cdn-static-1.medium.com/_/fp/img/default-avatar.dmbNkD5D-u45r44go_cf0g.png","/img/default-preview-image.png":"https://cdn-static-1.medium.com/_/fp/img/default-preview-image.IsBK38jFAJBlWifMLO4z9g.png","/img/email/app_store_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app_store_badge@2x.8bDQGNMm-Xs7Hz6WA2XquQ.png","/img/email/app-devices@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app-devices@2x.Ewl5-si-nhkLKZFIFSgrOw.png","/img/email/check1.png":"https://cdn-static-1.medium.com/_/fp/img/email/check1.0DM77li7vZhq5o2V9cVYLQ.png","/img/email/check2.png":"https://cdn-static-1.medium.com/_/fp/img/email/check2.GLlNusQmn1hwo9WDN-gE1w.png","/img/email/check3.png":"https://cdn-static-1.medium.com/_/fp/img/email/check3.7VxOUVMXAVbHRRnzMrJ_5A.png","/img/email/email-logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/email-logo.x91rxfZYzIT9OJ5-ySD30A.png","/img/email/fb_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/fb_logo.Q0M98YwNTu77gLWTK6-RyQ.png","/img/email/google_play_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/google_play_badge@2x.iWEWlt5_Qj20rr79-IGEBQ.png","/img/email/heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart._hlyuYQiuuTWrRmDnDphJA.png","/img/email/heart@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart@2x.qvCTX1XHNpntqxt01oypQw.png","/img/email/heart1.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart1.rnGEmSwcGUhztl_zSU7l6Q.png","/img/email/heart2.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart2.HBiLu3koIYsKjjKroohgbA.png","/img/email/heart3.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart3.AIJBOHw11HuhdClVJNtmtg.png","/img/email/large.png":"https://cdn-static-1.medium.com/_/fp/img/email/large.4EIhZbIk5sgqYSoB4YPmUA.png","/img/email/response.png":"https://cdn-static-1.medium.com/_/fp/img/email/response.5ZuN24N5XqS7ofHKg1lKXw.png","/img/email/response@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/response@2x.xzKQM4FzSurAVkghLQQWkA.png","/img/email/twitter_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/twitter_logo.Pz4a3o9WMU5QioxLKcyFhQ.png","/img/email/unlisted.png":"https://cdn-static-1.medium.com/_/fp/img/email/unlisted.ikh8R2LElOz_1YM8A2Db4g.png","/img/email/welcome-heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-heart.6BRCOGcwGeOCBTql8pbq2g.png","/img/email/welcome-response.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-response.iWVQLjiUG5pyQrPyGiYEpw.png","/img/email/welcome-write.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-write.afdGsuE6YDk3HkaIASRl0w.png","/img/help/add-media-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media-start.GXmqQ2Svt1WfZGIZSM93tg.gif","/img/help/add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media.SZH2LBmkwVExuhozFfVvYg.gif","/img/help/embed-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed-start.EBJ2PcWFJuYopsQV4wwklA.gif","/img/help/embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed.1BM0Di9vd91Kv8fLioJabw.gif","/img/help/text-highlight-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight-start.AvTbakaFuUCd05YoMECoMQ.gif","/img/help/text-highlight.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight.XVChoKYZ1-s3gJgHm9-7Yg.gif","/img/help/2.0-astronaut-typing.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-astronaut-typing.Ob_pXA84QmY6tATF9JFKIw.png","/img/help/2.0-add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media.LhrJcTFODoqjnPPuHNEInA.gif","/img/help/2.0-add-media-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media-start.PTVdm36977cSfaYOpMNTNQ.png","/img/help/2.0-highlight-menu.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu.vMoUc7pXOyYFMJX68LXicw.gif","/img/help/2.0-highlight-menu-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu-start.7vCytTKUZPOZvr_MCYADsA.png","/img/help/2.0-embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed.2g5jIXYtWjsRFa9D-hBhMQ.gif","/img/help/2.0-embed-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed-start.LGy_FmixvcoEVIDKjg1jwA.png","/img/help/2.0-mention.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention.H9pEv0eHAvkGUVqdrHxH5g.gif","/img/help/2.0-mention-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention-start.ShYTOfy6w3VDU9PKFfOEyw.png","/img/help/highlight-tips-1.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-1.dEp02HXMKtAeKxsV5MWqGg.gif","/img/help/highlight-tips-2.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-2.SyXCciYXeNpx4-GUAuh0XQ.gif","/img/import/highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/highlight-menu.kzoaVM8mJJ-Hu9m9uo3Omg.png","/img/import/image-highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/image-highlight-menu.q43-H2dl0JvBS_5znQCW8A.png","/img/import/publish-metabar.png":"https://cdn-static-1.medium.com/_/fp/img/import/publish-metabar.YbEX1a2Pu0rAR_LuKeg8JA.png"},"facebookNamespace":"medium-com","authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"aadabda268e3bfaffe7b287709262fec","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","iconsSvgUrl":"/_/proxy-static/_/fp/icons/icons.e14UNvVDeCfX3LDLXV31aw.svg","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","iconsJsUrl":"https://cdn-static-1.medium.com/_/fp/js/icons.ya3M--pc6G6SUWyIzVkfFA.js","favIconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico","cssFontUrls":["https://cdn-static-1.medium.com/_/fp/css/fonts-base.LqXl5T9RMAR39Ge23ku50w.css"]},"authBaseUrlRev":"moc.muidem//:sptth"}
// ]]></script><!--.--><!--.--><script>// <![CDATA[
window["obvInit"]({"value":{"id":"794214b0bdd8","versionId":"e310b6c3c94f","creatorId":"5c2520a2b1c1","creator":{"userId":"5c2520a2b1c1","name":"Ted Benson","username":"edwardbenson","createdAt":1389995545905,"lastPostCreatedAt":1447787883226,"imageId":"0*U95yxxLZU0nj6L-6.jpeg","backgroundImageId":"","bio":"Startup Dad. Cofounder & CTO of Cloudstitch. PhD from MIT CSAIL. Addicted to hot sauce.","twitterScreenName":"edwardbenson","socialStats":{"userId":"5c2520a2b1c1","usersFollowedCount":241,"usersFollowedByCount":621,"type":"SocialStats"},"social":{"userId":"lo_48c3aefd14e0","targetUserId":"5c2520a2b1c1","type":"Social"},"facebookAccountId":"","type":"User"},"homeCollectionId":"","title":"How I Hacked Amazon’s $5 WiFi Button to track Baby Data","detectedLanguage":"en","latestVersion":"e310b6c3c94f","latestPublishedVersion":"e310b6c3c94f","hasUnpublishedEdits":false,"latestRev":2109,"createdAt":1438493123247,"updatedAt":1439875392248,"acceptedAt":0,"firstPublishedAt":1439185478178,"latestPublishedAt":1439875392248,"isRead":false,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because your baby can’t talk…","bodyModel":{"paragraphs":[{"name":"828e","type":2,"text":"How I Hacked Amazon’s $5 WiFi Button to track Baby Data","markups":[]},{"name":"e617","type":4,"text":"My son Everest, the project’s quality assurance engineer. He subjected the button to a rigorous drool test.","markups":[],"layout":2,"metadata":{"id":"1*uzhO9OTxp6L1YguIJiNFPQ.jpeg","originalWidth":1906,"originalHeight":3213}},{"name":"522b","type":1,"text":"New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because your baby can’t talk to you. Recording data helps you find patterns — even obvious ones — that you won’t notice on your own because of sleep deprivation. How many times did the little guy wake up last night? Seems like an easy question, but it’s not.","markups":[]},{"name":"3832","type":1,"text":"My wife and I tried a few baby-tracker apps, but they tend to be single-purpose, while your baby’s needs keep changing. And using your smart phone at night disrupts sleep. I want a simple button I can stick to the wall and push to record poops today but wake-ups tomorrow. Lucky for me, Amazon just started shipping their new Dash Buttons, which you can transform into exactly that with just a few minutes.","markups":[{"type":3,"start":326,"end":338,"href":"http://www.amazon.com/b/?node=10667898011&lo=digital-text","title":"","rel":"","anchorType":0},{"type":1,"start":171,"end":273}]},{"name":"99ff","type":1,"text":"Dash Buttons are small, $5 plastic buttons with a battery and a WiFi connection inside. Amazon wants you to stick them to the insides of your cabinet doors and use them to re-order products like diapers or toilet paper. Push the button, get a new pack of diapers in the mail in two days.","markups":[]},{"name":"939f","type":1,"text":"I’m going to show you how to hijack and use these buttons for just about anything you want. Here’s is a short video preview of the results. Read on to see how you can build this yourself in just a few minutes.","markups":[]},{"name":"6e56","type":11,"text":"Video of the final result. You can wire up as many dash buttons as you like to record things around your house. The delay between button press and spreadsheet change is due to the Dash hardware’s boot-up process.","markups":[],"layout":1,"iframe":{"mediaResourceId":"c09e3aefa0e604fcef439c59879cbf83","iframeWidth":854,"iframeHeight":480}},{"name":"58f8","type":3,"text":"Here’s the trick: listen for the button to wake up and connect to the network.","markups":[]},{"name":"f696","type":1,"text":"OK, so our goal is to detect when one of these Dash buttons is pushed and then do something other than order more diapers on Amazon. The impressive hack would be to rip open the button and reprogram it. But I’m a dad: I don’t have time for that shi — err.. doody. So we’ll take the lazy route: we’ll just write a simple program that sniffs our wifi network for evidence that the button was pushed and then records a data point when it hears some.","markups":[{"type":2,"start":251,"end":256}]},{"name":"b428","type":1,"text":"It turns out Amazon gave us a very easy way to do this because they were so concerned with power saving. Dash buttons are turned off most of the time to preserve the battery inside. They only turn on when you push them. And that means they have to re-connect to your Wifi network every time they are pushed. That’s easy to detect.","markups":[{"type":2,"start":220,"end":308}]},{"name":"cb12","type":1,"text":"Internet devices don’t just connect to a Wifi network and start talking to Amazon: they introduce themselves to the local network first. This introduction is done with something called an ARP Probe, and it’s essentially a safety check to make sure that the MAC address the device is going to use as an identifier isn’t already being used by someone else.","markups":[{"type":3,"start":188,"end":197,"href":"https://en.wikipedia.org/wiki/Address_Resolution_Protocol#ARP_probe","title":"","rel":"","anchorType":0},{"type":3,"start":257,"end":268,"href":"https://en.wikipedia.org/wiki/MAC_address","title":"","rel":"","anchorType":0},{"type":2,"start":135,"end":137}]},{"name":"eded","type":4,"text":"Every time you push a Dash button, it reconnects to the network, causing a predictable transmission called an ARP Probe we can detect and act upon.","markups":[],"layout":1,"metadata":{"id":"1*pvg4kltN9-Qg40CZTDkQ3A.png","originalWidth":6394,"originalHeight":2593}},{"name":"9020","type":1,"text":"That’s great news for us: every time a Dash button is pushed, it powers up its radio and promptly transmits the message, “Hi! My name is [MAC Address]!”","markups":[]},{"name":"6675","type":1,"text":"So, conceptually, problem solved. We just have to:","markups":[]},{"name":"ffd5","type":10,"text":"Prevent the button from actually ordering anything","markups":[]},{"name":"fbe7","type":10,"text":"Listen for Dash Button ARP probes, and","markups":[]},{"name":"c625","type":10,"text":"Translate those probes into spreadsheet updates","markups":[]},{"name":"5c71","type":3,"text":"Step 1: Prevent the Dash Button from actually ordering anything (Sorry Amazon)","markups":[]},{"name":"f6ec","type":1,"text":"The first thing you need to do is configure your buttons to send messages when you push them but not actually order anything. When you get a Dash button, Amazon gives you a list of setup instructions to get going. Just follow this list of instructions, but don’t complete the final step — don’t select the particular product you want ordered.","markups":[{"type":2,"start":289,"end":342}]},{"name":"6b88","type":1,"text":"The last step for the Huggies button, for example, is to select which of several Huggies products you want. Just don’t answer this question and you won’t have to worry about actually buying anything.","markups":[]},{"name":"6fbf","type":3,"text":"Step 2: Detect when a Dash Button is pushed by sniffing for ARP Probes","markups":[]},{"name":"f5f8","type":1,"text":"OK. So now your button is sending messages to the network whenever it’s pushed. The next step is to sniff the WiFi network for these messages. Remember, we’re looking for something called an ARP Probe. To do that, we’re going to write a little Python program using a library called Scapy. Just copy and paste the following code:","markups":[{"type":3,"start":282,"end":287,"href":"http://www.secdev.org/projects/scapy/","title":"","rel":"","anchorType":0}]},{"name":"c85d","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"330bf5cd58c89e7870ca2666aee49513"}},{"name":"f330","type":1,"text":"With that program running — here’s the low tech part — pick up a button and press it. You’ll see a message appear after a few seconds (the buttons take a while to power on!). That’s the MAC address that uniquely identifies that button.","markups":[]},{"name":"119b","type":4,"text":"Every time you push the Dash button, it wakes up and issues an ARP request. By watching sniffer output of these requests in real time, you can learn each button’s MAC address.","markups":[],"layout":1,"metadata":{"id":"1*7dj8o7kRxr8TXaP-pQzh8g.png","originalWidth":7371,"originalHeight":2782}},{"name":"ebd7","type":1,"text":"Now that we know the MAC addresses, we’re going to hard-code them into our python program (remember, we’re in lazy dad mode here..). The code and screen shots below are for my buttons. Your addresses will look different.","markups":[]},{"name":"f200","type":1,"text":"Here’s the modified code:","markups":[]},{"name":"8144","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"2bc2f529b05fcaa2a494a318a02aef2d"}},{"name":"b1a3","type":1,"text":"And here’s the console output when we push the buttons while this program is running:","markups":[]},{"name":"9ba0","type":4,"text":"We’re nearly finished! Our code identifies each button push correctly. Now we just have to record a data point in response.","markups":[],"layout":1,"metadata":{"id":"1*dy_60jSfVOSoiHWuIFC2KA.png","originalWidth":682,"originalHeight":247}},{"name":"506c","type":3,"text":"Step 3: Record the button push data to a Google Spreadsheet","markups":[]},{"name":"4c2d","type":1,"text":"Now all we have to do is record data every time a button is pushed. To do that, I’ll use a Magic Form, a tool my startup Cloudstitch launched last week that lets you send data from anywhere to a Google Sheet.","markups":[{"type":3,"start":91,"end":101,"href":"http://www.cloudstitch.com/magic-form","title":"","rel":"","anchorType":0},{"type":3,"start":121,"end":132,"href":"http://www.cloudstitch.com","title":"","rel":"","anchorType":0},{"type":1,"start":91,"end":101}]},{"name":"c063","type":4,"text":"Magic Forms are great when you need a quick and easy way to save data to the cloud.","markups":[{"type":3,"start":0,"end":11,"href":"http://www.cloudstitch.com/magic-form","title":"","rel":"","anchorType":0}],"layout":2,"metadata":{"id":"1*oc5w7DsshfCtmCyClaACBw.png","originalWidth":275,"originalHeight":212}},{"name":"44d4","type":1,"text":"Just visit Cloudstitch, create a Magic Form, and you’ll be given a URL that add rows to your spreadsheet when you post form data to it.","markups":[]},{"name":"3651","type":1,"text":"So all the pieces are in place now: before we had a bit of code that prints a message every time a Dash button is pushed. Now we just add a few more lines of code to also send data to our Magic Form. Rather than paste in the whole updated example again, I’ll just link to the full version and instead show you the part that records a Poopy Diaper entry in our Magic Form. Right after printing “Pushed Huggies” to the screen, I added this code, which sends two fields, a Timestamp and the message “Poopy Diaper” to the form’s URL.","markups":[{"type":3,"start":264,"end":288,"href":"https://gist.github.com/eob/79f481c68cf4fbb110e7","title":"","rel":"","anchorType":0},{"type":1,"start":469,"end":470}]},{"name":"85f2","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"8eaa1e09ffe86a66415720a8d4ecf485"}},{"name":"506a","type":1,"text":"That’s it! Run the program again, push the buttons, and you’ll see the rows added to your spreadsheet as you do!","markups":[]},{"name":"d7f8","type":4,"text":"I think it’s clear from the timestamps I need to go to bed.","markups":[],"layout":1,"metadata":{"id":"1*xPfYuFlDeiBrScJgHnsK2A.png","originalWidth":693,"originalHeight":252}},{"name":"2669","type":3,"text":"Conclusion: The Internet of Things is already here.","markups":[]},{"name":"8f8a","type":1,"text":"A lot of people made fun of Dash Buttons when Amazon launched them on the day before April Fool’s Day. But regardless of what you think about Dash as a consumer product, it’s an undeniably compelling prototype of what the Internet of Things is going to look like.","markups":[{"type":3,"start":53,"end":101,"href":"http://www.usatoday.com/story/tech/2015/03/31/amazon-dash-ordering-button/70747342/","title":"","rel":"","anchorType":0}]},{"name":"529c","type":1,"text":"Using the instructions above, I bet you can wire up a Dash button like I did in under ten minutes. That’s pretty incredible when you consider the buttons were not supposed to be used this way. Actually — try it out and send me an email with your time. I’ll curate the common hurdles and zany ideas or photos.","markups":[{"type":3,"start":219,"end":235,"href":"mailto:ted@cloudstitch.io","title":"","rel":"","anchorType":0}]},{"name":"842d","type":1,"text":"We’re working on a lot of zany projects like this at Cloudstitch, by the way. Useful, simple, self-contained projects built on top of the things in your life you’re already using, like spreadsheets and buttons. On that note, we might turn this Dash button hack into a 1-click project for you to use. If you’re interested in that, let us know by signing up for our “Internet of Things Hacker” mailing list. We’ll use it to curate and announce fun projects like this.","markups":[{"type":3,"start":53,"end":64,"href":"http://www.cloudstitch.com/","title":"","rel":"","anchorType":0},{"type":3,"start":345,"end":404,"href":"http://www.cloudstitch.com/internet-of-things-hacker","title":"","rel":"","anchorType":0},{"type":1,"start":211,"end":465}]},{"name":"c6b7","type":1,"text":"Thanks to @jeanqasaur and Robin Ricketts for commenting on a draft of this post.","markups":[{"type":2,"start":0,"end":80}],"alignment":2}],"sections":[{"name":"d196","startIndex":0},{"name":"26da","startIndex":42}]},"postDisplay":{"coverless":true}},"virtuals":{"createdAtRelative":"4 months ago","updatedAtRelative":"3 months ago","acceptedAtRelative":"","createdAtEnglish":"August 1, 2015","updatedAtEnglish":"August 17, 2015","acceptedAtEnglish":"","firstPublishedAtEnglish":"August 9, 2015","latestPublishedAtEnglish":"August 17, 2015","allowNotes":true,"snippet":"New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because your baby can’t talk…","previewImage":{"imageId":"1*uzhO9OTxp6L1YguIJiNFPQ.jpeg","filter":"","backgroundSize":"","originalWidth":1906,"originalHeight":3213,"strategy":"resample","height":0,"width":0},"wordCount":1233,"imageCount":6,"readingTime":5.6028301886792455,"subtitle":"New parents are constantly learning how to care for their growing and changing baby, but it can be a challenge because your baby can’t talk…","usersBySocialRecommends":[],"latestPublishedAtAbbreviated":"Aug 17","firstPublishedAtAbbreviated":"Aug 9","emailSnippet":"to you. Recording data helps you find patterns — even obvious ones — that you won’t notice on your own because of sleep deprivation. How many times did the little guy wake up last night? Seems like an easy question, but it’s not. ¶\n\nMy wife and I tried a few baby-tracker apps, but they tend to be single-purpose, while your baby’s needs keep changing. And using your smart phone at night disrupts sleep.","recommends":544,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"hacking","name":"Hacking","postCount":472,"virtuals":{"isFollowing":false,"newTopStoriesCount":0},"metadata":{"followerCount":303,"postCount":472,"coverImage":{"id":"1*T9QXDwHWypJX150bfe2CZA.jpeg","originalWidth":4160,"originalHeight":3120}},"type":"Tag"},{"slug":"makers","name":"Makers","postCount":573,"virtuals":{"isFollowing":false,"newTopStoriesCount":0},"metadata":{"followerCount":126,"postCount":573,"coverImage":{"id":"1*0RB4DY55quIVY7-dKyp_DQ.jpeg","originalWidth":1400,"originalHeight":466}},"type":"Tag"},{"slug":"development","name":"Development","postCount":2212,"virtuals":{"isFollowing":false,"newTopStoriesCount":0},"metadata":{"followerCount":719,"postCount":2212,"coverImage":{"id":"1*N8E6yuYhHddW_Ly_25mlug.jpeg","originalWidth":2402,"originalHeight":962}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":59},"coverless":true,"slug":"how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"isViewed":false,"uniqueSlug":"how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8","previewContent":{"bodyModel":{"paragraphs":[{"name":"828e","type":2,"text":"How I Hacked Amazon’s $5 WiFi Button to track Baby Data","markups":[],"alignment":1},{"name":"e617","type":4,"text":"","markups":[],"layout":9,"metadata":{"id":"1*uzhO9OTxp6L1YguIJiNFPQ.jpeg","originalWidth":1906,"originalHeight":3213}}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@edwardbenson/how-i-hacked-amazon-s-5-wifi-button-to-track-baby-data-794214b0bdd8","approvedHomeCollectionId":"","newsletterId":"","type":"Post","_isPopulated":true},"collaborators":[],"footerPromo":{"promoId":"read_next_sign_in_tnt","isDismissable":false,"imageId":"1*OlgaspZ00W78xQY-HE9Wsg.png"},"collectionUserRelations":[],"mode":null,"references":{"User":{"5c2520a2b1c1":{"userId":"5c2520a2b1c1","name":"Ted Benson","username":"edwardbenson","createdAt":1389995545905,"lastPostCreatedAt":1447787883226,"imageId":"0*U95yxxLZU0nj6L-6.jpeg","backgroundImageId":"","bio":"Startup Dad. Cofounder & CTO of Cloudstitch. PhD from MIT CSAIL. Addicted to hot sauce.","twitterScreenName":"edwardbenson","socialStats":{"userId":"5c2520a2b1c1","usersFollowedCount":241,"usersFollowedByCount":621,"type":"SocialStats"},"social":{"userId":"lo_48c3aefd14e0","targetUserId":"5c2520a2b1c1","type":"Social"},"facebookAccountId":"","type":"User"}},"Social":{"5c2520a2b1c1":{"userId":"lo_48c3aefd14e0","targetUserId":"5c2520a2b1c1","type":"Social"}},"SocialStats":{"5c2520a2b1c1":{"userId":"5c2520a2b1c1","usersFollowedCount":241,"usersFollowedByCount":621,"type":"SocialStats"}}}})
// ]]></script><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l=document.getElementsByTagName("a"),t=document.createElement("textarea");for(i=0;l.length-i;i++){try{a=l[i].getAttribute("href");if(a&&a.indexOf("/cdn-cgi/l/email-protection") > -1  && (a.length > 28)){s='';j=27+ 1 + a.indexOf("/cdn-cgi/l/email-protection");if (a.length > j) {r=parseInt(a.substr(j,2),16);for(j+=2;a.length>j&&a.substr(j,1)!='X';j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}j+=1;s+=a.substr(j,a.length-j);}t.innerHTML=s.replace(/</g,"&lt;").replace(/>/g,"&gt;");l[i].setAttribute("href","mailto:"+t.value);}}catch(e){}}}catch(e){}})();
/* ]]> */
</script>
</body></html>
