<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Express vs Flask vs Go vs Sparkjava vs Sinatra — Medium</title><link rel="canonical" href="https://medium.com/@tschundeee/express-vs-flask-vs-go-acc0879c2122"><meta name="title" content="Express vs Flask vs Go vs Sparkjava vs Sinatra"><meta name="referrer" content="always"><meta name="description" content="Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint."><meta property="og:site_name" content="Medium"><meta property="og:title" content="Express vs Flask vs Go vs Sparkjava vs Sinatra"><meta property="og:url" content="https://medium.com/@tschundeee/express-vs-flask-vs-go-acc0879c2122"><meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*vD7nJl90u-W2O7sSXrrm7A.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint."><meta name="twitter:site" content="@Medium"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/800/1*vD7nJl90u-W2O7sSXrrm7A.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@tschundeee"><meta name="author" content="Bijan"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@tschundeee"><meta property="fb:smart_publish:robots" content="noauto"><meta property="article:published_time" content="2014-06-23T10:10:25.701Z"><meta name="twitter:creator" content="@BijanRahnema"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium:/p/acc0879c2122"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium:/p/acc0879c2122"><meta property="al:android:url" content="medium://p/acc0879c2122"><meta property="al:web:url" content="https://medium.com/@tschundeee/express-vs-flask-vs-go-acc0879c2122"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/acc0879c2122" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.VzyPz4jos5FyyiYfuOx6fQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || []; _gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]); _asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}section.section-image--coverFade, .section-image--fullScreen > .section-background, .section-image--coverFade > .section-background, .section-image--fullBleed .section-backgroundImage, .section-image--fullScreen .section-backgroundImage, .section-image--coverFade .section-backgroundImage {height: " + height + "px;}.section-image--content > .section-background, .section-image--content .section-backgroundImage, .section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-image--fullBleed > .section-background {height: " + Math.round(1.1 * height) + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="shortcut icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-ipad-retina.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-iphone-retina.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-ipad.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"></head><body itemscope itemtype="http://schema.org/Article" class=" template-flex-article is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><nav class="metabar u-clearfix js-metabar metabar--top metabar--postArticle"><div class="metabar-block metabar-left u-floatLeft"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><svg viewBox="0 0 45 45" width="45" height="45" class="svgIcon svgIcon--logoNew svgIcon-size--45px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-logoNew-45px-p0"></use><use class="svgIcon-use svgIcon-use--part1" xlink:href="#svg-logoNew-45px-p1"></use><use class="svgIcon-use svgIcon-use--part2" xlink:href="#svg-logoNew-45px-p2"></use><use class="svgIcon-use svgIcon-use--part3" xlink:href="#svg-logoNew-45px-p3"></use></svg><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block metabar-right u-floatRight"><div class="buttonSet"></div><div class="inputGroup u-xs-hide metabar-predictiveSearch"><button class="button button--chromeless button--inline button--withIcon is-inSiteNavBar button--withSvgIcon"  title="Click to start typing a search term" aria-label="Click to start typing a search term" data-action="focus-search-input"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><input class="js-predictiveSearchInput textInput textInput--rounded textInput--dark" type="search" placeholder="Search Medium"></div><div class="buttonSet"><button class="button button--circle button--withChrome button--withIcon is-inSiteNavBar u-showOnMobile button--withSvgIcon"  title="Search" aria-label="Search" data-action="open-search"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><a class="button button--primary button--withChrome"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%3A443%2F%40tschundeee%2Fexpress-vs-flask-vs-go-acc0879c2122"data-action="sign-in-prompt"data-redirect="https://medium.com:443/@tschundeee/express-vs-flask-vs-go-acc0879c2122" data-action-source="nav_signup">Sign in / Sign up</a></div></div></nav><div class="postActionsBar js-postActionsBar"><div class="postActionsBar-container container u-size740"><div class="postActionsBar-content row js-postActionsBarContent"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="acc0879c2122" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/acc0879c2122"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="acc0879c2122">50</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">7</button></div></div><div class="u-floatRight buttonSet"><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="acc0879c2122"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="acc0879c2122"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button></div><div class="buttonSet-separator"></div><div class="buttonSet-inner"><a class="link avatar avatar--inline"  href="https://medium.com/@tschundeee" data-action="show-user-card" data-action-type="hover" data-user-id="a00a03e1f1f8" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/24/24/0*6UUXyk2eJlD9fb6L.jpeg" class="avatar-image avatar-image--micro" alt="Go to the profile of Bijan"><span class="avatar-text">Bijan</span></a><span class="u-xs-hide"><span class="middotDivider"></span><span class="followState js-followState" data-user-id="a00a03e1f1f8"><button class="button button--chromeless u-noUserSelect button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_actions_bar"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--chromeless u-noUserSelect button--follow js-followButton"  title="Follow to get new stories and recommendations from this author" aria-label="Follow to get new stories and recommendations from this author"data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a00a03e1f1f8/acc0879c2122" data-action-source="post_actions_bar_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></span></div></div></div></div></div></div><article class="u-sizeViewHeightMin100 postArticle postArticle--full" lang="en"><header class="container is-underMetabar u-size740"><div class="postMetaHeader row u-xs-top10 u-xs-bottom10"><div class="col u-xs-size5of12"><div class="u-floatLeft"><div class="postMetaInline-avatar"><a class="link avatar"  href="https://medium.com/@tschundeee" data-action="show-user-card" data-action-type="hover" data-user-id="a00a03e1f1f8" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/36/36/0*6UUXyk2eJlD9fb6L.jpeg" class="avatar-image u-xs-size32x32 u-sm-size36x36" alt="Go to the profile of Bijan"></a></div><div class="postMetaInline-feedSummary"><a class="link link link--darken link--accent"  href="https://medium.com/@tschundeee" data-action="show-user-card" data-action-type="hover" data-user-id="a00a03e1f1f8" dir="auto">Bijan</a><span class="postMetaInline postMetaInline--supplemental">Jun 23, 2014<span class="middotDivider"></span><span class="readingTime">5 min read</span></span></div></div></div><div class="col u-xs-size7of12"><div class="u-floatRight"><div class="postMetaHeader-socialProof"></div></div></div></div></header><main role="main" class="postArticle-content js-postField js-notesSource"><section name="67d5" class=" section--body section--middleCenter section-image--aspectRatioViewport is-imageBackgrounded is-backgrounded is-darkBackgrounded section--first"><div class="section-background" data-scroll="aspect-ratio-viewport"contenteditable="false" data-image-id="1*vD7nJl90u-W2O7sSXrrm7A.png" data-width="1446" data-height="1156"><div class="section-backgroundImage"style="background-image: url(https://cdn-images-1.medium.com/max/1200/1*vD7nJl90u-W2O7sSXrrm7A.png);"></div><br></div><div class="section-doubleWidthTable u-table u-ignoreBlock"><div class="u-tableCell u-verticalAlignTop u-ignoreBlock"><div class="section-aspectRatioViewportBottomSpacer u-ignoreBlock"><div class="u-ignoreBlock" style="padding-bottom: 39.9723%;"></div></div><div class="section-doubleWidthTable u-table u-ignoreBlock"><div class="section-contentCell u-tableCell u-ignoreBlock"><div class="section-content"><div class="section-inner layoutSingleColumn"><h2 name="0c30" id="0c30" class="graf--h2 graf--first">Node Express vs Python Flask vs Go vs Sparkjava vs Ruby Sinatra</h2><h4 name="a452" id="a452" class="graf--h4 graf-after--h2 graf--last">Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint.</h4></div></div></div><div class="u-tableCell u-verticalAlignTop u-ignoreBlock"><div class="section-aspectRatioViewportPlaceholder u-ignoreBlock"><div class="u-ignoreBlock" style="padding-bottom: 79.9447%;"></div></div><div class="section-aspectRatioViewportBottomPlaceholder u-ignoreBlock"><div class="u-ignoreBlock" style="padding-bottom: 39.9723%;"></div></div></div></div></div><div class="u-tableCell u-ignoreBlock"><div class="section-aspectRatioViewportCropPlaceholder u-ignoreBlock"><div class="u-ignoreBlock" style="padding-bottom: 79.9447%;"></div></div></div></div><div class="section-captionContent u-ignoreBlock"></div></section><section name="ec82" class=" section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="067a" id="067a" class="graf--p graf--first"><strong class="markup--strong markup--p-strong">Update 5 (June 23, 2015):<br></strong>After posting the bad performance of Flask to their issue tracker User Methane posted a server config that boosts flask to 11751 requests/sec.</p><p name="afb2" id="afb2" class="graf--p graf-after--p"><a href="https://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800" data-href="https://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800" class="markup--anchor markup--p-anchor" rel="nofollow">https://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800</a></p><p name="348c" id="348c" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Update 4 (Jan 10, 2015):<br></strong>I added the sourcecode to a github repo: <a href="https://github.com/tschundeee/fibonacci-web-lang-benchmark" data-href="https://github.com/tschundeee/fibonacci-web-lang-benchmark" class="markup--anchor markup--p-anchor" rel="nofollow">https://github.com/tschundeee/fibonacci-web-lang-benchmark</a></p><p name="c1e7" id="c1e7" class="graf--p graf-after--p">Plus I added ruby’s <a href="http://www.sinatrarb.com" data-href="http://www.sinatrarb.com" class="markup--anchor markup--p-anchor" rel="nofollow">sinatra</a> which ranges around 615.87 Requests/sec using Ruby 2.2.</p><p name="52a8" id="52a8" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Update 3 (Sept 22, 2014):<br></strong>Rewrote the golang version using no external dependency. Now I got more than 63300 Requests/sec! Towards the python side I also had a little chat with <a href="https://twitter.com/miguelgrinberg" data-href="https://twitter.com/miguelgrinberg" class="markup--anchor markup--p-anchor" rel="nofollow">@miguelgrinberg</a> who was first confused to see Flask perform so bad compared to the others. After some tests he confirmed my results and he came to the conclusion that this might be a problem with Flasks underlying Werkzeug.</p><p name="5bed" id="5bed" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Update 2:<br></strong>User asdf` in the #pocoo irc channel on freenode (Flask-Channel) redid a Python Twisted Framework Implementation that boosts req/s to 11k on his machine. Golang is the fastest again after setting GOMAXPROCS to 7 (7 out of 8 because 1 is reserved for wrk).</p><p name="6fc4" id="6fc4" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Update 1:<br></strong>I added <a href="http://sparkjava.com/" data-href="http://sparkjava.com/" class="markup--anchor markup--p-anchor" rel="nofollow"><strong class="markup--strong markup--p-strong">Sparkjava</strong></a> to the tests and even though it consumes more memory (about 140MB) it handles <strong class="markup--strong markup--p-strong">48631 requests per second</strong> while <strong class="markup--strong markup--p-strong">Golang </strong>handles <strong class="markup--strong markup--p-strong">37756 requests per second</strong></p><h3 name="87b4" id="87b4" class="graf--h3 graf-after--p">The Task</h3><p name="7b84" id="7b84" class="graf--p graf-after--h3">Today I decided to do a little benchmark of some of my favorite web stacks. So I created a web service that calculates the corresponding fibonacci number to a request parameter. Go’s performance is way higher than node’s and python’s.</p><h3 name="46d8" id="46d8" class="graf--h3 graf-after--p">The Code</h3><p name="fd9e" id="fd9e" class="graf--p graf-after--h3">A request to for example <a href="http://localhost:3000/10" data-href="http://localhost:3000/10" class="markup--anchor markup--p-anchor">http://localhost:3000/10</a> calculates fib(10) and returns the result (55 in this case) as plain text. I think it’s better to have a little computation per each request because it is more realistic than just serving “Hello World”.</p><h4 name="8003" id="8003" class="graf--h4 graf-after--p">Node + ExpressJS</h4><p name="f32c" id="f32c" class="graf--p graf-after--h4">I chose <a href="http://expressjs.com/" data-href="http://expressjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow">ExpressJS</a> as it is node’s de facto web framework.</p><pre name="f40f" id="f40f" class="graf--pre graf-after--p">var express = require(&quot;express&quot;);<br>var app = express();</pre><pre name="3833" id="3833" class="graf--pre graf-after--pre">var fib = function (n) {<br> if (n === 0) {<br> return 0;<br> } else if (n == 1) {<br> return 1;<br> } else {<br> return fib(n — 1) + fib(n — 2)<br> }<br>};</pre><pre name="680f" id="680f" class="graf--pre graf-after--pre">app.get(&quot;/:number&quot;, function (req, res) {<br> var number = req.param(&quot;number&quot;); <br> var result = fib(number);<br> res.send(&quot;Node + Express&lt;hr&gt; fib(&quot;+number+&quot;): &quot;+result); <br>});</pre><pre name="7f5a" id="7f5a" class="graf--pre graf-after--pre">app.listen(3000);</pre><h4 name="36ec" id="36ec" class="graf--h4 graf-after--pre">Python + Flask</h4><p name="1f1d" id="1f1d" class="graf--p graf-after--h4">For Python I chose <a href="http://flask.pocoo.org/" data-href="http://flask.pocoo.org/" class="markup--anchor markup--p-anchor" rel="nofollow">Flask</a> because it is very popular among Pythonistas (Geeky word for Python Programmers) and comparably small in size.</p><pre name="b907" id="b907" class="graf--pre graf-after--p">from flask import Flask<br>app = Flask(__name__)</pre><pre name="4d7d" id="4d7d" class="graf--pre graf-after--pre"><a href="http://twitter.com/app" data-href="http://twitter.com/app" class="markup--anchor markup--pre-anchor" title="Twitter profile for @app" rel="nofollow">@app</a>.route(&#39;/&lt;int:number&gt;&#39;)<br>def index(number=1):<br> return &quot;Python + Flask&lt;hr&gt;fib(&quot;+ str(number) + &quot;): &quot;+ str(fib(number))</pre><pre name="3da8" id="3da8" class="graf--pre graf-after--pre">def fib(n):<br> if n == 0:<br> return 0<br> elif n == 1:<br> return 1<br> else:<br> return fib(n — 1) + fib(n — 2)</pre><pre name="8e50" id="8e50" class="graf--pre graf-after--pre">if __name__ == &#39;__main__&#39;:<br> app.run(debug=False)</pre><h4 name="83b2" id="83b2" class="graf--h4 graf-after--pre">Python + Twisted</h4><p name="e2cd" id="e2cd" class="graf--p graf-after--h4">User asdf` in the #pocoo irc channel on freenode (Flask-Channel) redid a Python Twisted Framework Implementation that boosts req/s to 11k on his machine. Thx for this input.</p><pre name="8e19" id="8e19" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">import</strong> <strong class="markup--strong markup--pre-strong">re</strong><br><strong class="markup--strong markup--pre-strong">from</strong> <strong class="markup--strong markup--pre-strong">twisted.web.server</strong> <strong class="markup--strong markup--pre-strong">import</strong> Site<br><strong class="markup--strong markup--pre-strong">from</strong> <strong class="markup--strong markup--pre-strong">twisted.web.resource</strong> <strong class="markup--strong markup--pre-strong">import</strong> Resource<br><strong class="markup--strong markup--pre-strong">from</strong> <strong class="markup--strong markup--pre-strong">twisted.internet</strong> <strong class="markup--strong markup--pre-strong">import</strong> reactor<br><br><br><strong class="markup--strong markup--pre-strong">def</strong> fib(n):<br> <strong class="markup--strong markup--pre-strong">if</strong> n == 0:<br> <strong class="markup--strong markup--pre-strong">return</strong> 0<br> <strong class="markup--strong markup--pre-strong">elif</strong> n == 1:<br> <strong class="markup--strong markup--pre-strong">return</strong> 1<br> <strong class="markup--strong markup--pre-strong">else</strong>:<br> <strong class="markup--strong markup--pre-strong">return</strong> fib(n-1) + fib(n-2)<br><br><br><strong class="markup--strong markup--pre-strong">class</strong> <strong class="markup--strong markup--pre-strong">FibonacciResource</strong>(Resource):<br> isLeaf = True<br> <strong class="markup--strong markup--pre-strong">def</strong> __init__(self, num):<br> self.num = int(num)<br><br> <strong class="markup--strong markup--pre-strong">def</strong> render_GET(self, request):<br> <strong class="markup--strong markup--pre-strong">return</strong> &quot;Python + twisted&lt;hr&gt;fib(<em class="markup--em markup--pre-em">%s</em>): <em class="markup--em markup--pre-em">%s</em>&quot; % (self.num, fib(self.num))<br><br><br><strong class="markup--strong markup--pre-strong">class</strong> <strong class="markup--strong markup--pre-strong">Router</strong>(Resource):<br> <strong class="markup--strong markup--pre-strong">def</strong> getChild(self, path, request):<br> <strong class="markup--strong markup--pre-strong">if</strong> re.match(&#39;\d+&#39;, path):<br> <strong class="markup--strong markup--pre-strong">return</strong> FibonacciResource(path)<br> <strong class="markup--strong markup--pre-strong">return</strong> self<br><br><br>reactor.listenTCP(5000, Site(Router()))<br>reactor.run()</pre><h4 name="4f14" id="4f14" class="graf--h4 graf-after--pre">Golang + Gorilla Pat</h4><p name="52d3" id="52d3" class="graf--p graf-after--h4">As golang comes already with a nice net/http package one doesn’t really need a framework to handle requests. What golang lacks in my opinion is a routing system that supports url variables for it’s request handlers. Here I chose <a href="http://www.gorillatoolkit.org/pkg/pat" data-href="http://www.gorillatoolkit.org/pkg/pat" class="markup--anchor markup--p-anchor" rel="nofollow">Gorilla Pat</a> because it is small and for this test I don’t need additional stuff like subrouting, subdomains, etc.</p><p name="9c0c" id="9c0c" class="graf--p graf-after--p">UPDATE: I now used the original Pat Router and it’s way faster now.</p><pre name="98f7" id="98f7" class="graf--pre graf-after--p">package main</pre><pre name="cb2d" id="cb2d" class="graf--pre graf-after--pre">import (<br> &quot;fmt&quot;<br> &quot;net/http&quot;<br> &quot;strconv&quot;<br> &quot;runtime&quot;<br> &quot;github.com/gorilla/pat&quot;<br>)</pre><pre name="38cd" id="38cd" class="graf--pre graf-after--pre">// fib returns a function that returns<br>// successive Fibonacci numbers.<br>func fib(n int) int {<br> if n == 0 {<br> return 0<br> }<br> if n == 1 {<br> return 1<br> }<br> return fib(n-1) + fib(n-2)<br>}</pre><pre name="5326" id="5326" class="graf--pre graf-after--pre">func IndexHandler(w http.ResponseWriter, r *http.Request) {<br> string_number := r.URL.Query().Get(&quot;:number&quot;)<br> number, _ := strconv.Atoi(string_number)<br> fmt.Fprintln(w, fib(number))<br>}</pre><pre name="5951" id="5951" class="graf--pre graf-after--pre">func main() {<br> runtime.GOMAXPROCS(runtime.NumCPU()-1)<br> r := pat.New()<br> r.Get(&quot;/{number:[0-9]+}&quot;, IndexHandler)<br> http.Handle(&quot;/&quot;, r)<br> http.ListenAndServe(&quot;:4000&quot;, nil)<br>}</pre><h4 name="0588" id="0588" class="graf--h4 graf-after--pre">Sparkjava</h4><p name="84f5" id="84f5" class="graf--p graf-after--h4">This framework is a pretty lean package that makes use of Java8 Lambda support. It comes bundled with Jetty 9 even though it can also be deployed on other servers.</p><pre name="df08" id="df08" class="graf--pre graf-after--p">import static spark.Spark.get;</pre><pre name="7793" id="7793" class="graf--pre graf-after--pre">public class HelloWorld {<br>  <br>  public static void main(String[] args) {<br>    get(“/:number”, (req, res) -&gt; {<br>        int number = Integer.parseInt(req.params(“:number”));<br>        return “Sparkjava: fib(“ + number +”) = “ + fib(number);<br>    });<br>  }</pre><pre name="bc62" id="bc62" class="graf--pre graf-after--pre">  public static int fib(int n) {<br>    if (n == 0) {<br>      return 0;<br>    } else if (n == 1) {<br>      return 1;<br>    } else {<br>      return fib(n — 1) + fib(n — 2);<br>    }<br>   }<br>}</pre><h3 name="d993" id="d993" class="graf--h3 graf-after--pre">The Result</h3><p name="5119" id="5119" class="graf--p graf-after--h3">I tested with <a href="https://github.com/wg/wrk" data-href="https://github.com/wg/wrk" class="markup--anchor markup--p-anchor" rel="nofollow">wrk</a> with the following settings:</p><pre name="3801" id="3801" class="graf--pre graf-after--p">wrk -c 64 -d 30s http://localhost:PORT/10 </pre><pre name="525e" id="525e" class="graf--pre graf-after--pre">1a. Golang + bmizerany <a href="https://github.com/bmizerany/pat" data-href="https://github.com/bmizerany/pat" class="markup--anchor markup--pre-anchor" rel="nofollow">Pat</a> + GOMAXPROCS(7):<br><strong class="markup--strong markup--pre-strong">51684 Requests/sec</strong> =&gt; 1550508 requests in 30s</pre><pre name="7e65" id="7e65" class="graf--pre graf-after--pre">1b. Golang + bmizerany <a href="https://github.com/bmizerany/pat" data-href="https://github.com/bmizerany/pat" class="markup--anchor markup--pre-anchor" rel="nofollow">Pat</a>:<br><strong class="markup--strong markup--pre-strong">42222 Requests/sec</strong> =&gt; 1266661 requests in 30s <br>Average Latency 1.52ms</pre><pre name="07c0" id="07c0" class="graf--pre graf-after--pre">1c. Golang + Gorilla Pat (using Gorillas Muxer)<strong class="markup--strong markup--pre-strong"><br>37756 Requests/sec</strong> =&gt; 1132689 requests in 30s <br>Average Latency 1.71ms</pre><pre name="75e1" id="75e1" class="graf--pre graf-after--pre">2. Sparkjava:<br><strong class="markup--strong markup--pre-strong">48631.24 Requests/sec</strong> =&gt; 1458768 requests in 30s<br>Average Latency 1.29ms</pre><pre name="1108" id="1108" class="graf--pre graf-after--pre">3a. PyPy2.7 Python + Twisted:<br><strong class="markup--strong markup--pre-strong">12633 Requests/sec</strong> =&gt; 379001 requests in 30s</pre><pre name="e263" id="e263" class="graf--pre graf-after--pre">3b. Python + Twisted:<br><strong class="markup--strong markup--pre-strong">3425 Requests/sec</strong> =&gt; 102781 requests in 30s</pre><pre name="5089" id="5089" class="graf--pre graf-after--pre">3c. Python + Flask:<br><strong class="markup--strong markup--pre-strong">11751 Requests/sec</strong> =&gt; 16393 requests in 30s <br>Average Latency 55.54ms</pre><pre name="d63b" id="d63b" class="graf--pre graf-after--pre">4. Node + Express: <br><strong class="markup--strong markup--pre-strong">8962 Requests/sec</strong> =&gt; 268866 requests in 30s<br>Average Latency 7.14ms</pre><p name="bffe" id="bffe" class="graf--p graf-after--pre">As one can see Spark’s &amp; Go’s results are in another league than the other two. At least this is the case on my System.</p><h4 name="316a" id="316a" class="graf--h4 graf-after--p">Setup:</h4><p name="f5b9" id="f5b9" class="graf--p graf-after--h4">Hardware: Retina Macbook Pro <a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="523b6512607c65151a28">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("data-cfhash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}t.parentNode.removeChild(t);}}catch(u){}}()/* ]]> */</script> and 16GB RAM<br>Software: OSX 10.9.3<br>Java 8 + Sparkjava 2.0.0<br>Golang 1.3<br>Python 2.7.7 + Flask 0.10.1<br>PyPy 2.3.1 + Twisted 14.0.0<br>Node v0.10.29 + Express 4.4.4</p><h4 name="5a84" id="5a84" class="graf--h4 graf-after--p">A note about memory usage:</h4><p name="5f7a" id="5f7a" class="graf--p graf-after--h4">All of the three technologies didn’t consume much memory during the tests. Node was about 17MB, Python 14MB, PyPy about 76MB and Go about 5MB of RAM. Sparkjava consumed about 140MB of RAM even though this is pretty normal for the JVM.</p><h3 name="8e11" id="8e11" class="graf--h3 graf-after--p">Conclusion (Updated)</h3><p name="1705" id="1705" class="graf--p graf-after--h3">If you need raw computing performance for the web Golang might be for you. Sparkjava is also among the fastest in this test and the JVM is battle proved. Node + Express and PyPy + Twisted are also not slow. Python with Flask is slow compared to the others.</p><p name="a5f6" id="a5f6" class="graf--p graf-after--p">UPDATE: Flask is fast now using meinheld + gunicorn.</p><p name="b66d" id="b66d" class="graf--p graf-after--p graf--last">If you read this far you should follow me on twitter: <a href="https://twitter.com/BijanRahnema" data-href="https://twitter.com/BijanRahnema" class="markup--anchor markup--p-anchor" rel="nofollow">@BijanRahnema</a> ☺</p></div></div></section></main><footer class="postArticle-footer"><div class="postActionsFooter container u-size740"><div class="row"><div class="col u-xs-size12of12"></div></div><div class="row"><div class="col u-xs-size12of12 js-postTags"><div class="postTags"><div class="tags tags--postTags tags--borderless"></div></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="acc0879c2122" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/acc0879c2122"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="acc0879c2122">50</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">7</button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="acc0879c2122"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="acc0879c2122"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon js-moreActionsButton button--withSvgIcon"  title="More actions" aria-label="More actions" data-action="more-actions"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--more svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-more-25px-p0"></use></svg></button></div></div></div></div><div class="container u-size740"><div class="row postFooter-info2"><div class="col u-xs-size12of12"><hr class="postFooter-infoDivider"></div></div><div class="row js-postFooterInfo"><div class="col u-xs-size12of12"><li class="card card-user"><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="a00a03e1f1f8"><button class="button button--small u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a00a03e1f1f8" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="card-imageWrapper "><a class="link avatar"  href="https://medium.com/@tschundeee?source=footer_card" title="Go to the profile of Bijan" aria-label="Go to the profile of Bijan" data-action-source="footer_card" data-user-id="a00a03e1f1f8" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/60/60/0*6UUXyk2eJlD9fb6L.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Bijan"></a></div><div class="card-content"><h3 class="card-name"><a class="link link--primary"  href="https://medium.com/@tschundeee" property="cc:attributionName" title="Go to the profile of Bijan" aria-label="Go to the profile of Bijan" rel="author cc:attributionUrl" data-user-id="a00a03e1f1f8" dir="auto">Bijan</a></h3><p class="card-description">Creative Beast.</p></div></li></div></div></div><div class="responsesWrapper supplementalPostContent js-responsesWrapper"></div><div class="post-footer supplementalPostContent js-readNext"></div></footer></article><div class="promoCardWrapper js-promoCardWrapper"><div class="promoCard"><button class="button button--chromeless button--close"  data-action="popup-dismiss">&times;</button><div class="promoCard-header">Don’t miss Bijan’s next story</div><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="a00a03e1f1f8"><button class="button u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="user_follow_popup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a00a03e1f1f8" data-action-source="user_follow_popup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="avatar"><img src="https://cdn-images-1.medium.com/fit/c/40/40/0*6UUXyk2eJlD9fb6L.jpeg" class="avatar-image avatar-image--smaller" alt="Bijan"><span class="avatar-text">Bijan</span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","bestOfFirstSlug":"may-2013","bestOfLatestSlug":"november-2015","buildLabel":"18659-b02cc8c","currentUser":{"userId":"lo_1ee974a57c01","isVerified":"","subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"facebookKey":"542599432471018","facebookScope":["public_profile","email","user_friends"],"isAuthenticated":false,"isCurrentUserVerified":"","loadingPlaceholderImg":"https://cdn-static-1.medium.com/_/fp/img/media-loading-placeholder.b31hiO4ynbDLRrXWEFF4aQ.png","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.PMFYxE6gzVH0ZXzyorUr1A.js","notes":"https://cdn-static-1.medium.com/_/fp/js/main-notes.bundle.cyFDLAWmWiJgjmGRZxcrsg.js","posters":"https://cdn-static-1.medium.com/_/fp/js/main-posters.bundle.LweHXgFmA7TsxPWxZy9DVQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/js/main-common-async.bundle.Zlk_NvrG4CMof9DpNoJbBg.js","stats":"https://cdn-static-1.medium.com/_/fp/js/main-stats.bundle.pbXGQaRCi7v3Fb_x6YK8xw.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/js/main-misc-screens.bundle.MSG7F6g6u8wNKQTskHPHXQ.js"},"postColumnWidth":700,"previewConfig":{"weightThreshold":1,"weightEmptyParagraph":0,"weightIframeParagraph":0.8,"weightImageParagraph":0.51,"weightTextParagraph":0.08,"weightBq":0.003,"weightH":0.005,"weightP":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15,"experimentImagesInsetCenter":false,"previewConfigVariantA":{"experimentImagesInsetCenter":true},"previewConfigVariantB":{"weightThreshold":10,"detectTitle":false}},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1449071168056:aac9f12ad5a4","useragent":{"browser":"wget","family":"","os":"","version":1.1,"supportsDesktopEdit":false,"supportsMobileEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isFacebook":false,"isWebView":false,"isFacebookWebView":false,"supportsSvgExternalResources":false,"supportsScrollableMetabar":false,"supportsProgressiveMedia":false,"isGoogle":false},"variants":{"allow_access":true,"allow_signup":true,"can_vote":true,"can_update_settings":true,"can_send_push_notifications":true,"can_export_data":true,"enable_notes":true,"allow_test_auth":"disallow","enable_email_login":true,"enable_email_registration":true,"enable_spam_detection":true,"enable_post_licensing":true,"filter_other_languages":true,"use_experimental_css":true,"can_resume_from_last_read_location":true,"can_report_bad_posts":true,"enable_embeds":true,"enable_recommend_notes":true,"enable_recommend_notes_composition":true,"use_full_width_images":true,"upload_multiple_files":true,"can_follow_users":true,"can_block_users":true,"enable_custom_push_notification_prompts_ios":true,"onboarding_connect_addtional_social_accounts_enabled_ios":true,"allow_request_account_deletion":true,"enable_bookmarks_list_ios":true,"see_featured_post_tab":true,"receive_rec_note_pushes":true,"receive_post_published_pushes":true,"receive_mention_pushes":true,"enable_account_conversion":true,"use_new_scheduled_delivery_flow":true,"feed_homepage":true,"enable_collection_subscription_fanout":true,"welcome_post_url":"https://medium.com/about/about-medium-9eac453da935","google_search":true,"signin_services":"twitter,facebook,google","signup_services":"twitter,facebook,google","mobile_app_promotion":"dialog","enable_bing_search":true,"enable_algolia_search":true,"show_tagged_posts_in_search":true,"enable_respond_to_web":true,"drafts_unauth":true,"friends_only_quotes":true,"enable_search_ios":true,"enable_connect_social_accounts_from_settings_ios":true,"enable_new_cover_flow_ios":true,"enable_rating_prompt":true,"enable_post_show_refactor":true,"enable_your_stories_more_actions":true,"enable_user_search_with_bing":true,"enable_drop_caps":true,"enable_session_cookie_encryption":true,"enable_follow_tags":true,"enable_tabbed_homepage_ios":true,"enable_editors_can_pull_stories":true,"enable_email_capture_flow_ios":true,"enable_send_pub_newsletters":true,"enable_receive_pub_newsletters":true,"enable_new_onboarding_flow_ios":true,"enable_follow_tags_from_post_list_ios":true,"enable_embedded_onboarding_education_and_login_ios":true,"enable_contextual_recommend_education_ios":true,"enable_tag_follow_onboarding":true,"your_top_stories_source":"similar-posts","follower_suggestion_source":"friends-of-friends","enable_query_by_in_response_to_post_id":true,"enable_gif_to_video_ios":true,"enable_international_typographic_quotes_through_icu_ios":true,"enable_service_worker":true,"android_best_story_notification":true,"android_rating_prompt_recommend_threshold":5,"number_of_top_stories":3,"number_of_in_stream_ts4u":3,"number_of_in_stream_global_top_stories":3,"source_of_in_stream_ts4u":"friends-rec-7d","enable_top_stories_in_stream":true,"enable_top_stories_in_stream_on_ios":true,"enable_top_stories_in_stream_on_android":true,"enable_post_recommend_threshold_in_stream":true,"enable_response_recommend_threshold_in_stream":true,"post_recommend_threshold":1,"response_recommend_threshold":2,"new_stream_reasons":true,"google_sign_in_backend":true,"google_sign_in_android":true,"enable_quote_feed_write":true,"enable_pile_on_activity":true,"enable_onboarding":true,"enable_rds_activity":true,"enable_rds_activity_read":true,"enable_activity_rollup":true,"activity_rollup_method":"all","enable_simple_open_in_app":true,"custom_miro_url":"https://cdn-images-1.medium.com","ios_custom_miro_url":"https://cdn-images-1.medium.com","enable_friends_recommends_plugin":true,"enable_write_stats_cache":true,"enable_populate_post_stats":true,"enable_most_recommended_response":true,"no_push_notification_for_responses":true,"receive_follow_pushes":true,"receive_recommend_pushes":true,"receive_response_pushes":true,"receive_highlight_pushes":true,"new_google_flow":true,"enable_small_first_page":true,"enable_response_email2":true,"fetch_with_relation_index":true,"enable_screen_placeholders":true,"user_popover_experiment":true,"enable_post_screen_placeholders":true,"enable_profile_screen_placeholders":true,"reengagement_notification_duration":3,"enable_infinite_scroll_placeholders":true,"enable_context_cards":true,"enable_progressive_media":true,"enable_oauth_api":true,"enable_oauth_token_self_issuance":true,"enable_oauth_app_creation":true,"list_of_lists_bucket":"default","enable_zoomable":true,"use_new_push_notification_logic":true,"enable_send_ios_pushes_using_channel_ids":true,"explore_tab_ios_posts_per_section_limit":4,"enable_quotes_in_one_stream":true,"enable_user_social_count_healing":true,"enable_social_counts_from_user_stat_total":true,"show_social_buttons_on_logged_out_post_footer":true,"enable_preview_footer_two":true,"show_sponsored_read_next":true,"track_with_social_id":true,"filter_responses_in_stream":true,"disable_inherit_tags_inline":true,"sponsored_read_next_cohort":"a"},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/img/default-avatar.png":"https://cdn-static-1.medium.com/_/fp/img/default-avatar.dmbNkD5D-u45r44go_cf0g.png","/img/default-preview-image.png":"https://cdn-static-1.medium.com/_/fp/img/default-preview-image.IsBK38jFAJBlWifMLO4z9g.png","/img/email/app_store_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app_store_badge@2x.8bDQGNMm-Xs7Hz6WA2XquQ.png","/img/email/app-devices@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app-devices@2x.Ewl5-si-nhkLKZFIFSgrOw.png","/img/email/check1.png":"https://cdn-static-1.medium.com/_/fp/img/email/check1.0DM77li7vZhq5o2V9cVYLQ.png","/img/email/check2.png":"https://cdn-static-1.medium.com/_/fp/img/email/check2.GLlNusQmn1hwo9WDN-gE1w.png","/img/email/check3.png":"https://cdn-static-1.medium.com/_/fp/img/email/check3.7VxOUVMXAVbHRRnzMrJ_5A.png","/img/email/email-logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/email-logo.x91rxfZYzIT9OJ5-ySD30A.png","/img/email/fb_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/fb_logo.Q0M98YwNTu77gLWTK6-RyQ.png","/img/email/google_play_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/google_play_badge@2x.iWEWlt5_Qj20rr79-IGEBQ.png","/img/email/heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart._hlyuYQiuuTWrRmDnDphJA.png","/img/email/heart@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart@2x.qvCTX1XHNpntqxt01oypQw.png","/img/email/heart1.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart1.rnGEmSwcGUhztl_zSU7l6Q.png","/img/email/heart2.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart2.HBiLu3koIYsKjjKroohgbA.png","/img/email/heart3.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart3.AIJBOHw11HuhdClVJNtmtg.png","/img/email/large.png":"https://cdn-static-1.medium.com/_/fp/img/email/large.4EIhZbIk5sgqYSoB4YPmUA.png","/img/email/response.png":"https://cdn-static-1.medium.com/_/fp/img/email/response.5ZuN24N5XqS7ofHKg1lKXw.png","/img/email/response@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/response@2x.xzKQM4FzSurAVkghLQQWkA.png","/img/email/twitter_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/twitter_logo.Pz4a3o9WMU5QioxLKcyFhQ.png","/img/email/unlisted.png":"https://cdn-static-1.medium.com/_/fp/img/email/unlisted.ikh8R2LElOz_1YM8A2Db4g.png","/img/email/welcome-heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-heart.6BRCOGcwGeOCBTql8pbq2g.png","/img/email/welcome-response.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-response.iWVQLjiUG5pyQrPyGiYEpw.png","/img/email/welcome-write.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-write.afdGsuE6YDk3HkaIASRl0w.png","/img/help/add-media-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media-start.GXmqQ2Svt1WfZGIZSM93tg.gif","/img/help/add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media.SZH2LBmkwVExuhozFfVvYg.gif","/img/help/embed-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed-start.EBJ2PcWFJuYopsQV4wwklA.gif","/img/help/embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed.1BM0Di9vd91Kv8fLioJabw.gif","/img/help/text-highlight-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight-start.AvTbakaFuUCd05YoMECoMQ.gif","/img/help/text-highlight.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight.XVChoKYZ1-s3gJgHm9-7Yg.gif","/img/help/2.0-astronaut-typing.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-astronaut-typing.Ob_pXA84QmY6tATF9JFKIw.png","/img/help/2.0-add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media.LhrJcTFODoqjnPPuHNEInA.gif","/img/help/2.0-add-media-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media-start.PTVdm36977cSfaYOpMNTNQ.png","/img/help/2.0-highlight-menu.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu.vMoUc7pXOyYFMJX68LXicw.gif","/img/help/2.0-highlight-menu-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu-start.7vCytTKUZPOZvr_MCYADsA.png","/img/help/2.0-embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed.2g5jIXYtWjsRFa9D-hBhMQ.gif","/img/help/2.0-embed-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed-start.LGy_FmixvcoEVIDKjg1jwA.png","/img/help/2.0-mention.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention.H9pEv0eHAvkGUVqdrHxH5g.gif","/img/help/2.0-mention-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention-start.ShYTOfy6w3VDU9PKFfOEyw.png","/img/help/highlight-tips-1.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-1.dEp02HXMKtAeKxsV5MWqGg.gif","/img/help/highlight-tips-2.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-2.SyXCciYXeNpx4-GUAuh0XQ.gif","/img/import/highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/highlight-menu.kzoaVM8mJJ-Hu9m9uo3Omg.png","/img/import/image-highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/image-highlight-menu.q43-H2dl0JvBS_5znQCW8A.png","/img/import/publish-metabar.png":"https://cdn-static-1.medium.com/_/fp/img/import/publish-metabar.YbEX1a2Pu0rAR_LuKeg8JA.png"},"facebookNamespace":"medium-com","authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"aadabda268e3bfaffe7b287709262fec","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","iconsSvgUrl":"/_/proxy-static/_/fp/icons/icons.e14UNvVDeCfX3LDLXV31aw.svg","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","iconsJsUrl":"https://cdn-static-1.medium.com/_/fp/js/icons.ya3M--pc6G6SUWyIzVkfFA.js","favIconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico","cssFontUrls":["https://cdn-static-1.medium.com/_/fp/css/fonts-base.LqXl5T9RMAR39Ge23ku50w.css"]},"authBaseUrlRev":"moc.muidem//:sptth"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.PMFYxE6gzVH0ZXzyorUr1A.js" async="true"></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/icons.ya3M--pc6G6SUWyIzVkfFA.js"></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"acc0879c2122","versionId":"34e5a1633964","creatorId":"a00a03e1f1f8","creator":{"userId":"a00a03e1f1f8","name":"Bijan","username":"tschundeee","createdAt":1370243855996,"lastPostCreatedAt":1444666613648,"imageId":"0*6UUXyk2eJlD9fb6L.jpeg","backgroundImageId":"","bio":"Creative Beast.","twitterScreenName":"BijanRahnema","socialStats":{"userId":"a00a03e1f1f8","usersFollowedCount":111,"usersFollowedByCount":67,"type":"SocialStats"},"social":{"userId":"lo_1ee974a57c01","targetUserId":"a00a03e1f1f8","type":"Social"},"facebookAccountId":"","type":"User"},"homeCollectionId":"","title":"Express vs Flask vs Go vs Sparkjava vs Sinatra","detectedLanguage":"en","latestVersion":"34e5a1633964","latestPublishedVersion":"34e5a1633964","hasUnpublishedEdits":false,"latestRev":1910,"createdAt":1403514868848,"updatedAt":1435060336540,"acceptedAt":0,"firstPublishedAt":1403518225701,"latestPublishedAt":1435060336540,"isRead":false,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint.","bodyModel":{"paragraphs":[{"name":"0c30","type":2,"text":"Node Express vs Python Flask vs Go vs Sparkjava vs Ruby Sinatra","markups":[]},{"name":"a452","type":13,"text":"Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint.","markups":[]},{"name":"067a","type":1,"text":"Update 5 (June 23, 2015):\nAfter posting the bad performance of Flask to their issue tracker User Methane posted a server config that boosts flask to 11751 requests/sec.","markups":[{"type":1,"start":0,"end":26}]},{"name":"afb2","type":1,"text":"https://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800","markups":[{"type":3,"start":0,"end":69,"href":"https://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800","title":"","rel":"nofollow","anchorType":0}]},{"name":"348c","type":1,"text":"Update 4 (Jan 10, 2015):\nI added the sourcecode to a github repo: https://github.com/tschundeee/fibonacci-web-lang-benchmark","markups":[{"type":3,"start":66,"end":124,"href":"https://github.com/tschundeee/fibonacci-web-lang-benchmark","title":"","rel":"nofollow","anchorType":0},{"type":1,"start":0,"end":25}]},{"name":"c1e7","type":1,"text":"Plus I added ruby’s sinatra which ranges around 615.87 Requests/sec using Ruby 2.2.","markups":[{"type":3,"start":20,"end":27,"href":"http://www.sinatrarb.com","title":"","rel":"","anchorType":0}]},{"name":"52a8","type":1,"text":"Update 3 (Sept 22, 2014):\nRewrote the golang version using no external dependency. Now I got more than 63300 Requests/sec! Towards the python side I also had a little chat with @miguelgrinberg who was first confused to see Flask perform so bad compared to the others. After some tests he confirmed my results and he came to the conclusion that this might be a problem with Flasks underlying Werkzeug.","markups":[{"type":3,"start":177,"end":192,"href":"https://twitter.com/miguelgrinberg","title":"","rel":"nofollow","anchorType":0},{"type":1,"start":0,"end":26}]},{"name":"5bed","type":1,"text":"Update 2:\nUser asdf` in the #pocoo irc channel on freenode (Flask-Channel) redid a Python Twisted Framework Implementation that boosts req/s to 11k on his machine. Golang is the fastest again after setting GOMAXPROCS to 7 (7 out of 8 because 1 is reserved for wrk).","markups":[{"type":1,"start":0,"end":10}]},{"name":"6fc4","type":1,"text":"Update 1:\nI added Sparkjava to the tests and even though it consumes more memory (about 140MB) it handles 48631 requests per second while Golang handles 37756 requests per second","markups":[{"type":3,"start":18,"end":27,"href":"http://sparkjava.com/","title":"","rel":"","anchorType":0},{"type":1,"start":0,"end":10},{"type":1,"start":18,"end":27},{"type":1,"start":106,"end":131},{"type":1,"start":138,"end":145},{"type":1,"start":153,"end":178}]},{"name":"87b4","type":3,"text":"The Task","markups":[]},{"name":"7b84","type":1,"text":"Today I decided to do a little benchmark of some of my favorite web stacks. So I created a web service that calculates the corresponding fibonacci number to a request parameter. Go’s performance is way higher than node’s and python’s.","markups":[]},{"name":"46d8","type":3,"text":"The Code","markups":[]},{"name":"fd9e","type":1,"text":"A request to for example http://localhost:3000/10 calculates fib(10) and returns the result (55 in this case) as plain text. I think it’s better to have a little computation per each request because it is more realistic than just serving “Hello World”.","markups":[{"type":3,"start":25,"end":49,"href":"http://localhost:3000/10","title":"","rel":""}]},{"name":"8003","type":13,"text":"Node + ExpressJS","markups":[]},{"name":"f32c","type":1,"text":"I chose ExpressJS as it is node’s de facto web framework.","markups":[{"type":3,"start":8,"end":17,"href":"http://expressjs.com/","title":"","rel":""}]},{"name":"f40f","type":8,"text":"var express = require(\"express\");\nvar app = express();","markups":[]},{"name":"3833","type":8,"text":"var fib = function (n) {\n if (n === 0) {\n return 0;\n } else if (n == 1) {\n return 1;\n } else {\n return fib(n — 1) + fib(n — 2)\n }\n};","markups":[]},{"name":"680f","type":8,"text":"app.get(\"/:number\", function (req, res) {\n var number = req.param(\"number\"); \n var result = fib(number);\n res.send(\"Node + Express\x3chr\x3e fib(\"+number+\"): \"+result); \n});","markups":[]},{"name":"7f5a","type":8,"text":"app.listen(3000);","markups":[]},{"name":"36ec","type":13,"text":"Python + Flask","markups":[]},{"name":"1f1d","type":1,"text":"For Python I chose Flask because it is very popular among Pythonistas (Geeky word for Python Programmers) and comparably small in size.","markups":[{"type":3,"start":19,"end":24,"href":"http://flask.pocoo.org/","title":"","rel":""}]},{"name":"b907","type":8,"text":"from flask import Flask\napp = Flask(__name__)","markups":[]},{"name":"4d7d","type":8,"text":"@app.route('/\x3cint:number\x3e')\ndef index(number=1):\n return \"Python + Flask\x3chr\x3efib(\"+ str(number) + \"): \"+ str(fib(number))","markups":[{"type":3,"start":0,"end":4,"href":"http://twitter.com/app","title":"Twitter profile for @app","rel":""}]},{"name":"3da8","type":8,"text":"def fib(n):\n if n == 0:\n return 0\n elif n == 1:\n return 1\n else:\n return fib(n — 1) + fib(n — 2)","markups":[]},{"name":"8e50","type":8,"text":"if __name__ == '__main__':\n app.run(debug=False)","markups":[]},{"name":"83b2","type":13,"text":"Python + Twisted","markups":[]},{"name":"e2cd","type":1,"text":"User asdf` in the #pocoo irc channel on freenode (Flask-Channel) redid a Python Twisted Framework Implementation that boosts req/s to 11k on his machine. Thx for this input.","markups":[]},{"name":"8e19","type":8,"text":"import re\nfrom twisted.web.server import Site\nfrom twisted.web.resource import Resource\nfrom twisted.internet import reactor\n\n\ndef fib(n):\n if n == 0:\n return 0\n elif n == 1:\n return 1\n else:\n return fib(n-1) + fib(n-2)\n\n\nclass FibonacciResource(Resource):\n isLeaf = True\n def __init__(self, num):\n self.num = int(num)\n\n def render_GET(self, request):\n return \"Python + twisted\x3chr\x3efib(%s): %s\" % (self.num, fib(self.num))\n\n\nclass Router(Resource):\n def getChild(self, path, request):\n if re.match('\\d+', path):\n return FibonacciResource(path)\n return self\n\n\nreactor.listenTCP(5000, Site(Router()))\nreactor.run()","markups":[{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":9},{"type":1,"start":10,"end":14},{"type":1,"start":15,"end":33},{"type":1,"start":34,"end":40},{"type":1,"start":46,"end":50},{"type":1,"start":51,"end":71},{"type":1,"start":72,"end":78},{"type":1,"start":88,"end":92},{"type":1,"start":93,"end":109},{"type":1,"start":110,"end":116},{"type":1,"start":127,"end":130},{"type":1,"start":140,"end":142},{"type":1,"start":152,"end":158},{"type":1,"start":162,"end":166},{"type":1,"start":176,"end":182},{"type":1,"start":186,"end":190},{"type":1,"start":193,"end":199},{"type":1,"start":222,"end":227},{"type":1,"start":228,"end":245},{"type":1,"start":273,"end":276},{"type":1,"start":321,"end":324},{"type":1,"start":353,"end":359},{"type":1,"start":424,"end":429},{"type":1,"start":430,"end":436},{"type":1,"start":449,"end":452},{"type":1,"start":485,"end":487},{"type":1,"start":512,"end":518},{"type":1,"start":544,"end":550},{"type":2,"start":385,"end":387},{"type":2,"start":390,"end":392}]},{"name":"4f14","type":13,"text":"Golang + Gorilla Pat","markups":[]},{"name":"52d3","type":1,"text":"As golang comes already with a nice net/http package one doesn’t really need a framework to handle requests. What golang lacks in my opinion is a routing system that supports url variables for it’s request handlers. Here I chose Gorilla Pat because it is small and for this test I don’t need additional stuff like subrouting, subdomains, etc.","markups":[{"type":3,"start":229,"end":240,"href":"http://www.gorillatoolkit.org/pkg/pat","title":"","rel":""}]},{"name":"9c0c","type":1,"text":"UPDATE: I now used the original Pat Router and it’s way faster now.","markups":[]},{"name":"98f7","type":8,"text":"package main","markups":[]},{"name":"cb2d","type":8,"text":"import (\n \"fmt\"\n \"net/http\"\n \"strconv\"\n \"runtime\"\n \"github.com/gorilla/pat\"\n)","markups":[]},{"name":"38cd","type":8,"text":"// fib returns a function that returns\n// successive Fibonacci numbers.\nfunc fib(n int) int {\n if n == 0 {\n return 0\n }\n if n == 1 {\n return 1\n }\n return fib(n-1) + fib(n-2)\n}","markups":[]},{"name":"5326","type":8,"text":"func IndexHandler(w http.ResponseWriter, r *http.Request) {\n string_number := r.URL.Query().Get(\":number\")\n number, _ := strconv.Atoi(string_number)\n fmt.Fprintln(w, fib(number))\n}","markups":[]},{"name":"5951","type":8,"text":"func main() {\n runtime.GOMAXPROCS(runtime.NumCPU()-1)\n r := pat.New()\n r.Get(\"/{number:[0-9]+}\", IndexHandler)\n http.Handle(\"/\", r)\n http.ListenAndServe(\":4000\", nil)\n}","markups":[]},{"name":"0588","type":13,"text":"Sparkjava","markups":[]},{"name":"84f5","type":1,"text":"This framework is a pretty lean package that makes use of Java8 Lambda support. It comes bundled with Jetty 9 even though it can also be deployed on other servers.","markups":[]},{"name":"df08","type":8,"text":"import static spark.Spark.get;","markups":[]},{"name":"7793","type":8,"text":"public class HelloWorld {\n  \n  public static void main(String[] args) {\n    get(“/:number”, (req, res) -\x3e {\n        int number = Integer.parseInt(req.params(“:number”));\n        return “Sparkjava: fib(“ + number +”) = “ + fib(number);\n    });\n  }","markups":[]},{"name":"bc62","type":8,"text":"  public static int fib(int n) {\n    if (n == 0) {\n      return 0;\n    } else if (n == 1) {\n      return 1;\n    } else {\n      return fib(n — 1) + fib(n — 2);\n    }\n   }\n}","markups":[]},{"name":"d993","type":3,"text":"The Result","markups":[]},{"name":"5119","type":1,"text":"I tested with wrk with the following settings:","markups":[{"type":3,"start":14,"end":17,"href":"https://github.com/wg/wrk","title":"","rel":""}]},{"name":"3801","type":8,"text":"wrk -c 64 -d 30s http://localhost:PORT/10 ","markups":[]},{"name":"525e","type":8,"text":"1a. Golang + bmizerany Pat + GOMAXPROCS(7):\n51684 Requests/sec =\x3e 1550508 requests in 30s","markups":[{"type":3,"start":23,"end":26,"href":"https://github.com/bmizerany/pat","title":"","rel":""},{"type":1,"start":44,"end":62}]},{"name":"7e65","type":8,"text":"1b. Golang + bmizerany Pat:\n42222 Requests/sec =\x3e 1266661 requests in 30s \nAverage Latency 1.52ms","markups":[{"type":3,"start":23,"end":26,"href":"https://github.com/bmizerany/pat","title":"","rel":""},{"type":1,"start":28,"end":46}]},{"name":"07c0","type":8,"text":"1c. Golang + Gorilla Pat (using Gorillas Muxer)\n37756 Requests/sec =\x3e 1132689 requests in 30s \nAverage Latency 1.71ms","markups":[{"type":1,"start":47,"end":66}]},{"name":"75e1","type":8,"text":"2. Sparkjava:\n48631.24 Requests/sec =\x3e 1458768 requests in 30s\nAverage Latency 1.29ms","markups":[{"type":1,"start":14,"end":35}]},{"name":"1108","type":8,"text":"3a. PyPy2.7 Python + Twisted:\n12633 Requests/sec =\x3e 379001 requests in 30s","markups":[{"type":1,"start":30,"end":48}]},{"name":"e263","type":8,"text":"3b. Python + Twisted:\n3425 Requests/sec =\x3e 102781 requests in 30s","markups":[{"type":1,"start":22,"end":39}]},{"name":"5089","type":8,"text":"3c. Python + Flask:\n11751 Requests/sec =\x3e 16393 requests in 30s \nAverage Latency 55.54ms","markups":[{"type":1,"start":20,"end":38}]},{"name":"d63b","type":8,"text":"4. Node + Express: \n8962 Requests/sec =\x3e 268866 requests in 30s\nAverage Latency 7.14ms","markups":[{"type":1,"start":20,"end":37}]},{"name":"bffe","type":1,"text":"As one can see Spark’s & Go’s results are in another league than the other two. At least this is the case on my System.","markups":[]},{"name":"316a","type":13,"text":"Setup:","markups":[]},{"name":"f5b9","type":1,"text":"Hardware: Retina Macbook Pro i7@2.7GHz and 16GB RAM\nSoftware: OSX 10.9.3\nJava 8 + Sparkjava 2.0.0\nGolang 1.3\nPython 2.7.7 + Flask 0.10.1\nPyPy 2.3.1 + Twisted 14.0.0\nNode v0.10.29 + Express 4.4.4","markups":[]},{"name":"5a84","type":13,"text":"A note about memory usage:","markups":[]},{"name":"5f7a","type":1,"text":"All of the three technologies didn’t consume much memory during the tests. Node was about 17MB, Python 14MB, PyPy about 76MB and Go about 5MB of RAM. Sparkjava consumed about 140MB of RAM even though this is pretty normal for the JVM.","markups":[]},{"name":"8e11","type":3,"text":"Conclusion (Updated)","markups":[]},{"name":"1705","type":1,"text":"If you need raw computing performance for the web Golang might be for you. Sparkjava is also among the fastest in this test and the JVM is battle proved. Node + Express and PyPy + Twisted are also not slow. Python with Flask is slow compared to the others.","markups":[]},{"name":"a5f6","type":1,"text":"UPDATE: Flask is fast now using meinheld + gunicorn.","markups":[]},{"name":"b66d","type":1,"text":"If you read this far you should follow me on twitter: @BijanRahnema ☺","markups":[{"type":3,"start":54,"end":67,"href":"https://twitter.com/BijanRahnema","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"67d5","startIndex":0,"backgroundImage":{"id":"1*vD7nJl90u-W2O7sSXrrm7A.png","originalWidth":1446,"originalHeight":1156},"textLayout":3,"imageLayout":9},{"name":"ec82","startIndex":2}]},"postDisplay":{"coverless":true}},"virtuals":{"createdAtRelative":"a year ago","updatedAtRelative":"5 months ago","acceptedAtRelative":"","createdAtEnglish":"June 23, 2014","updatedAtEnglish":"June 23, 2015","acceptedAtEnglish":"","firstPublishedAtEnglish":"June 23, 2014","latestPublishedAtEnglish":"June 23, 2015","allowNotes":true,"snippet":"Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint.","previewImage":{"imageId":"1*vD7nJl90u-W2O7sSXrrm7A.png","filter":"","backgroundSize":"","originalWidth":1446,"originalHeight":1156,"strategy":"resample","height":0,"width":0},"wordCount":1133,"imageCount":1,"readingTime":4.475471698113208,"subtitle":"Fibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint.","usersBySocialRecommends":[],"latestPublishedAtAbbreviated":"Jun 23","firstPublishedAtAbbreviated":"Jun 23, 2014","emailSnippet":"Node Express vs Python Flask vs Go vs Sparkjava vs Ruby Sinatra ¶\n\nFibonacci(10) Calculation per Request: Golang wins performance wise and has the smallest memory footprint. ¶\n\nUpdate 5 (June 23, 2015):\nAfter posting the bad performance of Flask to their issue tracker User Methane posted a server config that boosts flask to 11751 requests/sec. ¶\n\nhttps://github.com/mitsuhiko/flask/issues/1512#issuecomment-114454800 ¶\n\nUpdate 4 (Jan 10, 2015):\nI added the sourcecode to a github repo: https:…","recommends":50,"socialRecommends":[],"isBookmarked":false,"tags":[],"socialRecommendsCount":0,"responsesCreatedCount":7},"coverless":true,"slug":"express-vs-flask-vs-go","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":false,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"isViewed":false,"uniqueSlug":"express-vs-flask-vs-go-acc0879c2122","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*vD7nJl90u-W2O7sSXrrm7A.png","originalWidth":1446,"originalHeight":1156}},{"name":"previewTitle","type":2,"text":"Express vs Flask vs Go vs Sparkjava vs Sinatra","alignment":1},{"name":"previewSubtitle","type":13,"text":"Fibonacci(10) Calculation per Request: Golang wins…","alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@tschundeee/express-vs-flask-vs-go-acc0879c2122","approvedHomeCollectionId":"","newsletterId":"","type":"Post","_isPopulated":true},"collaborators":[],"footerPromo":{"promoId":"read_next_sign_in_tnt","isDismissable":false,"imageId":"1*OlgaspZ00W78xQY-HE9Wsg.png"},"collectionUserRelations":[],"mode":null,"references":{"User":{"a00a03e1f1f8":{"userId":"a00a03e1f1f8","name":"Bijan","username":"tschundeee","createdAt":1370243855996,"lastPostCreatedAt":1444666613648,"imageId":"0*6UUXyk2eJlD9fb6L.jpeg","backgroundImageId":"","bio":"Creative Beast.","twitterScreenName":"BijanRahnema","socialStats":{"userId":"a00a03e1f1f8","usersFollowedCount":111,"usersFollowedByCount":67,"type":"SocialStats"},"social":{"userId":"lo_1ee974a57c01","targetUserId":"a00a03e1f1f8","type":"Social"},"facebookAccountId":"","type":"User"}},"Social":{"a00a03e1f1f8":{"userId":"lo_1ee974a57c01","targetUserId":"a00a03e1f1f8","type":"Social"}},"SocialStats":{"a00a03e1f1f8":{"userId":"a00a03e1f1f8","usersFollowedCount":111,"usersFollowedByCount":67,"type":"SocialStats"}}}})
// ]]></script></body></html>